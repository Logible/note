# Prop

## 1.Propçš„å¤§å°å†™

HTMLä¸­çš„attributeåæ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„, æ‰€ä»¥æµè§ˆå™¨ä¼šæŠŠæ‰€æœ‰å¤§å†™å­—ç¬¦è§£é‡Šä¸ºå°å†™å­—ç¬¦.

è¿™æ„å‘³ç€å½“ä½¿ç”¨DOMçš„ä¸­çš„æ¨¡æ¿æ—¶, camelCase(é©¼å³°å‘½åæ³•)çš„propåéœ€è¦ä½¿ç”¨å…¶ç­‰ä»·çš„kebab-case(çŸ­æ¨ªçº¿åˆ†éš”å‘½å)å‘½å

```html
<!--   // åœ¨ JavaScript ä¸­æ˜¯ camelCase çš„-->
<script>
    props: ['postTitle']
</script>
<!-- åœ¨ HTML ä¸­æ˜¯ kebab-case çš„ -->
<blog-post post-title="hello!"></blog-post>
```

## 1.2 Prop ç±»å‹

è‹¥ä½ å¸Œæœ›æ¯ä¸ªpropéƒ½æœ‰æŒ‡å®šçš„å€¼ç±»å‹. è¿™æ—¶, ä½ å¯ä»¥ä»¥å¯¹è±¡å½¢å¼åˆ—å‡ºprop, è¿™äº›propertyçš„åç§°å’Œå€¼åˆ†åˆ«æ˜¯propå„è‡ªçš„åç§°å’Œç±»å‹

```js
props: {
  title: String,
  likes: Number,
  isPublished: Boolean,
  commentIds: Array,
  author: Object,
  callback: Function,
  contactsPromise: Promise // or any other constructor
}
```

è¿™ä¸ä»…ä¸ºç»„ä»¶æä¾›äº†æ–‡æ¡£, è¿˜ä¼šåœ¨å®ƒä»¬é‡åˆ°é”™è¯¯çš„ç±»å‹æ—¶ä»æµè§ˆå™¨çš„JavaScriptæ§åˆ¶å°æç¤ºç”¨æˆ·

## 1.3 ä¼ é€’é™æ€æˆ–åŠ¨æ€ Prop

1. ç»™propä¼ å…¥ä¸€ä¸ªé™æ€çš„å€¼

    ```html
    <blog-post title="My journey with Vue"></blog-post>
    ```

2. é€šè¿‡<code style="color:#ea4335">v-bind</code>ç»™propåŠ¨æ€èµ‹å€¼

    ```html
    <!-- åŠ¨æ€èµ‹äºˆä¸€ä¸ªå˜é‡çš„å€¼ -->
    <blog-post v-bind:title="post.title"></blog-post>
    ```

### 1.3.1 ä¼ å…¥ä¸€ä¸ªæ•°å­—

```html
<!-- å³ä¾¿ `42` æ˜¯é™æ€çš„ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦ `v-bind` æ¥å‘Šè¯‰ Vue -->
<!-- è¿™æ˜¯ä¸€ä¸ª JavaScript è¡¨è¾¾å¼è€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚-->
<blog-post v-bind:likes="42"></blog-post>

<!-- ç”¨ä¸€ä¸ªå˜é‡è¿›è¡ŒåŠ¨æ€èµ‹å€¼ã€‚-->
<blog-post v-bind:likes="post.likes"></blog-post>
```

### 1.3.2 ä¼ å…¥ä¸€ä¸ªå¸ƒå°”å€¼

```html
<!-- åŒ…å«è¯¥ prop æ²¡æœ‰å€¼çš„æƒ…å†µåœ¨å†…ï¼Œéƒ½æ„å‘³ç€ `true`ã€‚-->
<blog-post is-published></blog-post>

<!-- å³ä¾¿ `false` æ˜¯é™æ€çš„ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦ `v-bind` æ¥å‘Šè¯‰ Vue -->
<!-- è¿™æ˜¯ä¸€ä¸ª JavaScript è¡¨è¾¾å¼è€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚-->
<blog-post v-bind:is-published="false"></blog-post>

<!-- ç”¨ä¸€ä¸ªå˜é‡è¿›è¡ŒåŠ¨æ€èµ‹å€¼ã€‚-->
<blog-post v-bind:is-published="post.isPublished"></blog-post>
```

### 1.3.3 ä¼ å…¥ä¸€ä¸ªæ•°ç»„

```html
<!-- å³ä¾¿æ•°ç»„æ˜¯é™æ€çš„ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦ `v-bind` æ¥å‘Šè¯‰ Vue -->
<!-- è¿™æ˜¯ä¸€ä¸ª JavaScript è¡¨è¾¾å¼è€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚-->
<blog-post v-bind:comment-ids="[234, 266, 273]"></blog-post>

<!-- ç”¨ä¸€ä¸ªå˜é‡è¿›è¡ŒåŠ¨æ€èµ‹å€¼ã€‚-->
<blog-post v-bind:comment-ids="post.commentIds"></blog-post>
```

### 1.3.4 ä¼ å…¥ä¸€ä¸ªå¯¹è±¡

```html
<!-- å³ä¾¿å¯¹è±¡æ˜¯é™æ€çš„ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦ `v-bind` æ¥å‘Šè¯‰ Vue -->
<!-- è¿™æ˜¯ä¸€ä¸ª JavaScript è¡¨è¾¾å¼è€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚-->
<blog-post
  v-bind:author="{
    name: 'Veronica',
    company: 'Veridian Dynamics'
  }"
></blog-post>

<!-- ç”¨ä¸€ä¸ªå˜é‡è¿›è¡ŒåŠ¨æ€èµ‹å€¼ã€‚-->
<blog-post v-bind:author="post.author"></blog-post>
```

### 1.3.5 ä¼ å…¥ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰property

å¦‚æœä½ æƒ³è¦å°†ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰ property éƒ½ä½œä¸º prop ä¼ å…¥ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸å¸¦å‚æ•°çš„ v-bind (å–ä»£ v-bind:prop-name)ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ªç»™å®šçš„å¯¹è±¡ postï¼š

```html
<blog-post v-bind="post"></blog-post>
```

ç­‰ä»·äº:

```html
<blog-post
  v-bind:id="post.id"
  v-bind:title="post.title"
></blog-post>
```

## 1.4 å•å‘æ•°æ®æµ

æ‰€æœ‰çš„propéƒ½ä½¿å¾—çˆ¶å­propä¹‹é—´å½¢æˆäº†ä¸€ä¸ªå•å‘ä¸‹è¡Œç»‘å®š: çˆ¶çº§propçš„æ›´æ–°ä¼šå‘ä¸‹æµåŠ¨åˆ°å­ç»„ä»¶ä¸­, ä½†åè¿‡æ¥åˆ™ä¸è¡Œ.

in addition, æ¯æ¬¡çˆ¶çº§ç»„ä»¶å‘ç”Ÿå˜æ›´æ—¶, å­ç»„ä»¶ä¸­æ‰€æœ‰çš„propéƒ½å°†ä¼šåˆ·æ–°ä¸ºæœ€æ–°çš„å€¼. è¿™æ„å‘³ç€æˆ‘ä»¬ä¸åº”è¯¥åœ¨ä¸€ä¸ªå­ç»„ä»¶å†…éƒ¨æ”¹å˜prop.

There are two common scenarios for trying to mutate a prop:

1. è¿™ä¸ªpropç”¨æ¥ä¼ é€’ä¸€ä¸ªåˆå§‹å€¼, è¿™ä¸ªå­ç»„ä»¶æ¥ä¸‹æ¥å¸Œæœ›å°†å…¶ä½œä¸ºä¸€ä¸ªæœ¬åœ°çš„propæ•°æ®æ¥ä½¿ç”¨.

    åœ¨è¿™ç§æƒ…å†µä¸‹, æœ€å¥½å®šä¹‰ä¸€ä¸ªæœ¬åœ°çš„data propertyç”¨ä½œå…¶åˆå§‹å€¼

    ```js
    props: ['initialCounter'],
    data: function () {
    return {
        counter: this.initialCounter
    }
    }
    ```

2. è¿™ä¸ªpropä»¥ä¸€ç§åŸå§‹çš„å€¼ä¼ å…¥ä¸”éœ€è¦è¿›è¡Œè½¬æ¢,

    åœ¨è¿™ç§æƒ…å†µä¸‹æœ€å¥½ä½¿ç”¨è¿™ä¸ªpropå€¼æ¥å®šä¹‰ä¸€ä¸ªè®¡ç®—å±æ€§

    ```js
    props: ['size'],
    computed: {
    normalizedSize: function () {
        return this.size.trim().toLowerCase()
    }
    }
    ```

>Note:æ³¨æ„åœ¨ JavaScript ä¸­å¯¹è±¡å’Œæ•°ç»„æ˜¯é€šè¿‡å¼•ç”¨ä¼ å…¥çš„ï¼Œæ‰€ä»¥å¯¹äºä¸€ä¸ªæ•°ç»„æˆ–å¯¹è±¡ç±»å‹çš„ prop æ¥è¯´ï¼Œåœ¨å­ç»„ä»¶ä¸­æ”¹å˜å˜æ›´è¿™ä¸ªå¯¹è±¡æˆ–æ•°ç»„æœ¬èº«å°†ä¼šå½±å“åˆ°çˆ¶ç»„ä»¶çš„çŠ¶æ€ã€‚

## 1.5 Prop éªŒè¯

æˆ‘ä»¬å¯ä»¥ä¸ºç»„ä»¶çš„propæŒ‡å®šéªŒè¯è¦æ±‚, è‹¥æœ‰ä¸€ä¸ªéœ€æ±‚æ²¡æœ‰è¢«æ»¡è¶³, åˆ™Vueä¼šåœ¨æµè§ˆå™¨æ§åˆ¶å°å‘å‡ºè­¦å‘Š.

Example:

```js
Vue.component('my-component', {
  props: {
    // åŸºç¡€çš„ç±»å‹æ£€æŸ¥ (`null` å’Œ `undefined` ä¼šé€šè¿‡ä»»ä½•ç±»å‹éªŒè¯)
    propA: Number,
    // å¤šä¸ªå¯èƒ½çš„ç±»å‹
    propB: [String, Number],
    // å¿…å¡«çš„å­—ç¬¦ä¸²
    propC: {
      type: String,
      required: true
    },
    // å¸¦æœ‰é»˜è®¤å€¼çš„æ•°å­—
    propD: {
      type: Number,
      default: 100
    },
    // å¸¦æœ‰é»˜è®¤å€¼çš„å¯¹è±¡
    propE: {
      type: Object,
      // å¯¹è±¡æˆ–æ•°ç»„é»˜è®¤å€¼å¿…é¡»ä»ä¸€ä¸ªå·¥å‚å‡½æ•°è·å–
      default: function () {
        return { message: 'hello' }
      }
    },
    // è‡ªå®šä¹‰éªŒè¯å‡½æ•°
    propF: {
      validator: function (value) {
        // è¿™ä¸ªå€¼å¿…é¡»åŒ¹é…ä¸‹åˆ—å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ª
        return ['success', 'warning', 'danger'].indexOf(value) !== -1
      }
    }
  }
})
```

>Note:é‚£äº› prop ä¼šåœ¨ä¸€ä¸ªç»„ä»¶å®ä¾‹åˆ›å»ºä¹‹å‰è¿›è¡ŒéªŒè¯ï¼Œæ‰€ä»¥å®ä¾‹çš„ property (å¦‚ dataã€computed ç­‰) åœ¨ default æˆ– validator å‡½æ•°ä¸­æ˜¯ä¸å¯ç”¨çš„ã€‚

### 1.5.1 ç±»å‹æ£€æŸ¥

typeå¯ä»¥æ˜¯ä¸‹åˆ—åŸç”Ÿæ„é€ å‡½æ•°ä¸­çš„ä¸€ä¸ª:

- <code style="color:#ea4335">String</code>
- <code style="color:#ea4335">Number</code>
- <code style="color:#ea4335">Boolean</code>
- <code style="color:#ea4335">Array</code>
- <code style="color:#ea4335">Object</code>
- <code style="color:#ea4335">Date</code>
- <code style="color:#ea4335">Function</code>
- <code style="color:#ea4335">Symbol</code>

å½“ç„¶, <code style="color:#ea4335">type</code>ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°, å¹¶ä¸”é€šè¿‡<code style="color:#ea4335">instanceof</code>æ¥è¿›è¡Œæ£€æŸ¥ç¡®è®¤

Example:

```js
function Person (firstName, lastName) {
  this.firstName = firstName
  this.lastName = lastName
}
// ğŸ‘‡å¯éªŒè¯author propçš„å€¼æ˜¯å¦é€šè¿‡new Personæ¥åˆ›å»ºçš„
Vue.component('blog-post', {
  props: {
    author: Person
  }
})
```

## 1.6 é Prop çš„ Attribute

ä¸€ä¸ªépropçš„attributeæ˜¯æŒ‡ä¼ å‘ä¸€ä¸ªç»„ä»¶, ä½†æ˜¯è¯¥ç»„ä»¶å¹¶æ²¡æœ‰ç›¸åº”çš„propå®šä¹‰çš„attribute

å› ä¸ºæ˜¾ç¤ºå®šä¹‰propé€‚ç”¨äºå‘ä¸€ä¸ªå­ç»„ä»¶ä¼ å…¥ä¿¡æ¯, ç„¶è€Œç»„ä»¶åº“çš„ä½œè€…å¹¶ä¸æ€»èƒ½é‡è§ç»„ä»¶ä¼šè¢«ç”¨äºæ€æ ·çš„åœºæ™¯. è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç»„ä»¶å¯ä»¥æ¥å—ä»»æ„çš„attribure, è€Œè¿™äº›attributeä¼šè¢«æ·»åŠ åˆ°è¿™ä¸ªç»„ä»¶çš„æ ¹å…ƒç´ ä¸Š

### 1.6.1 æ›¿æ¢/åˆå¹¶å·²æœ‰çš„ Attribute

å‡è®¾\<bootstrap-date-input>çš„æ¨¡æ¿æ˜¯:

```html
<input type="date" class="form-control">
```

ä¸ºäº†ç»™æˆ‘ä»¬çš„æ—¥æœŸé€‰æ‹©å™¨æ’ä»¶å®šåˆ¶ä¸€ä¸ªä¸»é¢˜:

```html
<bootstrap-date-input
  data-date-picker="activated"
  class="date-picker-theme-dark"
></bootstrap-date-input>
```

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªä¸åŒçš„ class çš„å€¼ï¼š

- form-controlï¼Œè¿™æ˜¯åœ¨ç»„ä»¶çš„æ¨¡æ¿å†…è®¾ç½®å¥½çš„
- date-picker-theme-darkï¼Œè¿™æ˜¯ä»ç»„ä»¶çš„çˆ¶çº§ä¼ å…¥çš„

- å¯¹äºç»å¤§å¤šæ•°attributeæ¥è¯´, ä»å¤–éƒ¨æä¾›ç»™ç»„ä»¶çš„å€¼ä¼šæ›¿æ¢æ‰ç»„ä»¶å†…éƒ¨è®¾ç½®å¥½çš„å€¼. æ‰€ä»¥ä¼ å…¥ <code style="color:#ea4335">type = 'text'</code>å°±ä¼šæ›¿æ¢æ‰<code style="color:#ea4335">type = 'date'</code>
- å¯¹äº<code style="color:#ea4335">class</code>å’Œ<code style="color:#ea4335">style</code> attributeä¼šç¨å¾®æ™ºèƒ½äº›, ä¸¤è¾¹çš„å€¼ä¼šè¢«åˆå¹¶èµ·æ¥, ä»è€Œå¾—åˆ°æœ€ç»ˆçš„å€¼

### 1.6.2 ç¦ç”¨ Attribute ç»§æ‰¿

![20220112164039](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220112164039.png)

è‹¥**ä¸å¸Œæœ›**ç»„ä»¶çš„æ ¹å…ƒç´ ç»§æ‰¿attribute, å¯ä»¥åœ¨ç»„ä»¶çš„é€‰é¡¹ä¸­è®¾ç½® <code style="color:#ea4335">inheritAttrs:false</code>:

```js
Vue.component('my-component', {
  inheritAttrs: false,
  // ...
})
```

è¿™å°¤å…¶é€‚åˆé…åˆå®ä¾‹çš„ $attrs property ä½¿ç”¨ï¼Œè¯¥ property åŒ…å«äº†ä¼ é€’ç»™ä¸€ä¸ªç»„ä»¶çš„ attribute åå’Œ attribute

æœ‰äº† inheritAttrs: false å’Œ $attrsï¼Œä½ å°±å¯ä»¥æ‰‹åŠ¨å†³å®šè¿™äº› attribute ä¼šè¢«èµ‹äºˆå“ªä¸ªå…ƒç´ ã€‚åœ¨æ’°å†™åŸºç¡€ç»„ä»¶çš„æ—¶å€™æ˜¯å¸¸ä¼šç”¨åˆ°çš„ï¼š

```js
Vue.component('base-input', {
  inheritAttrs: false,
  props: ['label', 'value'],
  template: `
    <label>
      {{ label }}
      <input
        v-bind="$attrs"
        v-bind:value="value"
        v-on:input="$emit('input', $event.target.value)"
      >
    </label>
  `
})
```

è¿™ä¸ªæ¨¡å¼å…è®¸ä½ åœ¨ä½¿ç”¨åŸºç¡€ç»„ä»¶çš„æ—¶å€™æ›´åƒæ˜¯ä½¿ç”¨åŸå§‹çš„ HTML å…ƒç´ ï¼Œè€Œä¸ä¼šæ‹…å¿ƒå“ªä¸ªå…ƒç´ æ˜¯çœŸæ­£çš„æ ¹å…ƒç´ ï¼š

```html
<base-input
  label="Username:"
  v-model="username"
  required
  placeholder="Enter your username"
></base-input>
```

---
question:
ä¸æ˜¯è¯´ç¦æ­¢ç»§æ‰¿? æ€ä¹ˆè¿˜æ˜¯ç”¨äºç»§æ‰¿attribute

---
