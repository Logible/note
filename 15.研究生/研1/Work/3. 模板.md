# 模板

- 解压图片
  - ffmpeg -i ⭐.mp4 -vf "select=not(mod(n\,1))" -vsync 0 ⭐/%05d.png

- 抠图
  - python main.py --img_dir ⭐ --out_dir ⭐ --color cg --bg ⭐ --multi_process 20 --mask_th ⭐
- 阈值抠图
  - python main.py --img_dir ⭐ --out_dir ⭐ --color g --multi_process 5 --upper ⭐ --lower ⭐ 

- 合成视频
  - python get_seg_video3.py ---path ⭐/ --video_file ⭐.mp4 --start_id 1 --end_id -1

- 删除文件
  - rm -rf ./⭐/

- 切换

cd /data/log/bg-segment
conda activate myenv

## 1110

ffmpeg -i /data/log/1110/陈/chen_1.mp4 -vf "select=not(mod(n\,1))" -vsync 0 /data/log/1110/陈/chen_1/%05d.png
ffmpeg -i /data/log/1110/陈/chen_2.mp4 -vf "select=not(mod(n\,1))" -vsync 0 /data/log/1110/陈/chen_2/%05d.png

python main.py --img_dir /data/log/1110/陈/chen_1/ --out_dir /data/log/1110/陈/chen_1_mask100/ --color cg --bg /data/log/1110/陈/c.png --multi_process 20 --mask_th 100
python main.py --img_dir /data/log/1110/陈/chen_2/ --out_dir /data/log/1110/陈/chen_2_mask100/ --color cg --bg /data/log/1110/陈/c.png --multi_process 5 --mask_th 100

python get_seg_video3.py ---path /data/log/1110/陈/chen_1_mask100/ --video_file /data/log/1110/陈/chen_1_mask100.mp4 --start_id 1 --end_id 1000
python get_seg_video3.py ---path /data/log/1110/陈/chen_2_mask100/ --video_file /data/log/1110/陈/chen_2_mask100.mp4 --start_id 1 --end_id -1

--- 

ffmpeg -i /data/log/1110/金可/jk_1.mp4 -vf "select=not(mod(n\,1))" -vsync 0 /data/log/1110/金可/jk_1/%05d.png
ffmpeg -i /data/log/1110/金可/jk_2.mp4 -vf "select=not(mod(n\,1))" -vsync 0 /data/log/1110/金可/jk_2/%05d.png

python main.py --img_dir /data/log/1110/金可/jk_1/ --out_dir /data/log/1110/金可/jk_1_mask100 --color cg --bg /data/log/1110/金可/jk.png --multi_process 12 --mask_th 100
python main.py --img_dir /data/log/1110/金可/jk_2/ --out_dir /data/log/1110/金可/jk_2_mask100 --color cg --bg /data/log/1110/金可/jk.png --multi_process 20 --mask_th 100

python get_seg_video3.py ---path /data/log/1110/金可/jk_1_mask100 --video_file /data/log/1110/金可/jk_1_mask100.mp4 --start_id 1 --end_id 1500
python get_seg_video3.py ---path /data/log/1110/金可/jk_2_thres/ --video_file /data/log/1110/金可/jk_2_thres.mp4 --start_id 1 --end_id 700

## 1113

python main.py --img_dir /data/log/1110/金可/jk_1/ --out_dir /data/log/1110/金可/jk_1_threshold --color g --multi_process 5 --upper 120,255,229 --lower 43,93,2

--img_dir G:\Video_Dispose\1110\jk\jk_1_ori --out_dir ../outs --color g --multi_process 0  --upper 135,255,229 --lower 43,172,1 --bg G:\Video_Dispose\1110\jk\jk.png

--img_dir G:\Video_Dispose\1110\jk\jk_2_ori --out_dir ./outs --color g --multi_process 0  --upper 70,221,230 --lower 42,170,74 --bg G:\Video_Dispose\1110\jk\jk.png

--img_dir G:\Video_Dispose\1110\jk\jk_2_ori --out_dir ./outs --color g --multi_process 0  --upper 70,255,230 --lower 42,170,59 --bg G:\Video_Dispose\1110\jk\jk.png


- 越小，扣的越少（绿色越多

python main.py --img_dir /data/log/1110/金可/jk_2/ --out_dir /data/log/1110/金可/jk_2_mask0new --color cg --bg /data/log/1110/金可/jk_new.png --multi_process 20 --mask_th 0

python main.py --img_dir /data/log/1110/金可/jk_1/ --out_dir /data/log/1110/金可/jk_1_threshold2 --color g --multi_process 5 --bg /data/log/1110/金可/jk.png --upper 135,255,229 --lower 43,172,1

python main.py --img_dir /data/log/1110/金可/jk_2/ --out_dir /data/log/1110/金可/jk_2_thres --color g --multi_process 20  --upper 70,255,230 --lower 42,170,59 --bg /data/log/1110/金可/jk.png

## 1113

1. ffmpeg -i /data/log/1113/tingting.mp4 -vf "select=not(mod(n\,1))" -vsync 0 /data/log/1113/tingting/%05d.png
2. python main.py --img_dir /data/log/1113/tingting/ --out_dir /data/log/1113/tingting_dis --color cg --bg /data/log/1113/ting.png  --multi_process 20 --mask_th 100