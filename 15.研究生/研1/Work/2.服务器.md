# 服务器

- 查看进程：nvidia-smi

## 解压

- 服务器
  - ffmpeg -i /data/cyl/1024/yan_heyafen002_female.mp4 -vf "select=not(mod(n\,1))" -vsync 0 /data/cyl/SplitImg/%05d.png

- ffmpeg -i G:\DownLoad\lingxi_female_008_自录美颜1\lingxi_female_008_自录美颜1.mp4 -vf "select=not(mod(n\,1))" -vsync 0 G:\Video_Dispose\lingxi_female_008\%05d.png

- ffmpeg -i G:\Video_Dispose\dianxin_female_002\预处理后-dianxin02.mp4 -vf "select=not(mod(n\,1))" -vsync 0 G:\Video_Dispose\Urgent_Img\%05d.png

## Linux操作

- cd

在Linux或类Unix系统中，cd命令用于更改当前工作目录。两者之间的区别在于路径参数的形式：

cd /dire：这是绝对路径。它将你的当前工作目录更改为根目录的dire目录。无论你当前位于系统中的哪个位置，都会移动到相同的目录。

cd dire：这是相对路径。它会将你的当前工作目录更改为当前目录中的dire目录。它不需要指定完整的路径，因为它已经默认为你在当前目录中。

- 跑图
  - python main.py --img_dir /data/log/SplitImg_002_female --out_dir /data/log/Neng_Dispose2 --color g --multi_process 5 --upper 70,219,255 --lower 41,47,63

## 三件事（第二周

1. 兴沛 done
2. 对比 需跑mask
3. 整个视频

4. 能哥的两个视频处理 running
   1. ![Alt text](images/img_v2_1d107adc-e623-4ba1-8858-654a0c0ed27g.jpg)
   2. 第二个视频很难处理, 处理下面横线的时候很容易一整人不见
      1. 慢慢找
   3. 第三个 G:\DownLoad\lingxi_female_008_自录美颜1



兴沛图片

res_lower:  55,40,35
res_upper:  85,255,255

--img_dir
G:\DownLoad\full
--out_dir
./outs
--color
g
--multi_process
0
--upper
67,243,206
--lower
60,170,109

lower: [ 60 170 109]
upper: [ 67 243 206]

python main.py --img_dir /data/log/full --out_dir /data/log/full_Dispose --color g --multi_process 0 --upper 67,243,206 --lower 60,170,109

---

- 能哥

--img_dir
G:\Video_Dispose\SplitImg_002_female
--out_dir
./outs
--color
g
--multi_process
0
--upper
64,169,255
--lower
41,30,60

lower: [41 30 60]
upper: [ 64 169 255]

- python main.py --img_dir /data/log/SplitImg_001_female --out_dir /data/log/Neng_Dispose1 --color g --multi_process 0 --upper 63,198,168 --lower 44,39,58

- 能哥2
  - python main.py --img_dir /data/log/SplitImg_002_female --out_dir /data/log/Neng_Dispose2 --color g --multi_process 0 --upper 70,219,255 --lower 41,47,63


lower: [41 47 63]
upper: [ 70 219 255]

---

- 对比

--img_dir
G:\Video_Dispose\Urgent_Img
--out_dir
./outs
--color
g
--multi_process
0
--upper
69,255,181
--lower
55,74,85

lower: [55 74 85]
upper: [ 69 255 181]

--img_dir
G:\Video_Dispose\Urgent_Img
--out_dir
./outs
--color
g
--multi_process
0
--upper
69,255,181
--lower
55,74,85

---

- 能哥1027

--img_dir
G:\Video_Dispose\lingxi_female_008
--out_dir
./outs
--color
g
--multi_process
0
--upper
88,219,201
--lower
4,7,69

lower: [ 4  7 69]
upper: [ 88 219 201]

- python main.py --img_dir /data/log/lingxi_female_008 --out_dir /data/log/Neng_1027 --color g --multi_process 5 --upper 88,219,201 --lower 4,7,69

python main.py --img_dir /data/log/lingxi_female_008 --out_dir /data/log/Neng_1030 --color g --multi_process 5 --upper 88,219,201 --lower 4,7,69 --img_dir /data/log/lingxi_female_008 --out_dir /data/log/Neng_1030 --color g --multi_process 5 --upper 113,219,201 --lower 4,5,69

## 一些参数

- lingxi_female_008 主播手机<image style="height:300px; background-color:#CDDEC2" src="images/01985.png"/>

    --upper
    88,219,201
    --lower
    4,7,69

- dianxin_female_002站立黑裙<image style="height:300px; background-color:#CDDEC2" src="images/00001.png"/>

    --upper
    69,255,181
    --lower
    55,74,85

## 1031

- ffmpeg -i /data/log/1031/赵笛5_25.mp4 -vf "select=not(mod(n\,1))" -vsync 0 /data/log/1031/赵笛5_25/%05d.png

- img_dir = r'G:\Video_Dispose\1031\peng_25_2\peng_25_2'

--upper
81,255,203
--lower
53,77,56

--img_dir G:\Video_Dispose\1031\peng_25_2\peng_25_2 --out_dir ./outs --color g --multi_process 0 --upper 81,255,203 --lower 53,77,56
- sever
  - python main.py --img_dir /data/log/1031/peng_25_2 --out_dir /data/log/1031/peng_25_2_Dispose --color g --multi_process 0 --upper 81,255,203 --lower 53,77,56

---

zd2

--img_dir G:\Video_Dispose\1031\zd2_25 --out_dir ./outs --color g --multi_process 0
--upper
81,255,233
--lower
43,44,56

- serve
  - python main.py --img_dir /data/log/1031/赵笛2_25 --out_dir /data/log/1031/赵笛2_25_Dispose --color g --multi_process 0 --upper 81,255,233 --lower 43,44,56

---

wuchen2

- python main_ps.py --img_dir /data/log/1031/吴晨_25 --out_dir /data/log/1031/吴晨_25_Dispose --color c --bg /data/log/pic_bg/wuchen_25.png --multi_process 0

---

zd3

python main_ps.py --img_dir /data/log/1031/赵笛3_25 --out_dir /data/log/1031/赵笛3_25_Dispose --color c --bg /data/log/pic_bg/zd3_25.png --multi_process 0

---

不是四的倍数

python main_ps.py --img_dir /data/log/1031/赵笛1_25 --out_dir /data/log/1031/赵笛1_25_Dispose --color c --bg /data/log/pic_bg/zd1_25.png --multi_process 0

python main_ps.py --img_dir /data/log/1031/赵笛5_25 --out_dir /data/log/1031/赵笛5_25_Dispose --color c --bg /data/log/pic_bg/赵笛5_25.png --multi_process 0

1,5 still have't done

---

--img_dir G:\Video_Dispose\1031\ZhaoDi1_25 --out_dir ./outs --color c --bg G:\Video_Dispose\1031\pic_bg\赵笛1_25.png --multi_process 0

## 合成视频

python get_video.py ---path /data/log/1031/peng_25_2_Dispose2 --video_file /data/log/1031/peng_25_2_Video_2.mp4

python get_seg_video3.py ---path /data/log/1031/吴晨_25_Dispose --video_file /data/log/1031/吴晨_25_Dispose_video.mp4 --start_id 1 --end_id -1

python get_seg_video3.py ---path /data/log/1031/赵笛1_25_Dispose --video_file /data/log/1031/赵笛1_25_Dispose_video.mp4 --start_id 1300 --end_id 3000

python get_seg_video3.py ---path /data/log/1031/赵笛2_25_Dispose --video_file /data/log/1031/赵笛2_25_Dispose_video.mp4 --start_id 500 --end_id 1300

python get_seg_video3.py ---path /data/log/1031/赵笛3_25_Dispose --video_file /data/log/1031/赵笛3_25_Dispose_video.mp4 --start_id 500 --end_id 3500

python get_seg_video3.py ---path /data/log/1106/1-驱动start0_Dispose_ps --video_file /data/log/1106/1-驱动start0_Dispose_ps.mp4 --start_id 1 --end_id -1

## 1102

python get_seg_video3.py ---path /data/log/1102/sample_images_Dispose3 --video_file /data/log/1102/sample_images.mp4 --start_id 1 --end_id -1

python main_ps.py --img_dir /data/log/1102/sample_images --out_dir /data/log/1102/sample_images_Dispose --color c --bg /data/log/1102/sample_pic2.png --multi_process 0

python main.py --img_dir /data/log/1102/sample_images --out_dir /data/log/1102/sample_images_Dispose --color g --multi_process 0 --upper 70,239,184 --lower 60,118,31

--upper
70,239,184
--lower
60,118,31

## 1106

ffmpeg -i /data/log/1106/haixia_test_v3.1.mp4 -vf "select=not(mod(n\,1))" -vsync 0 /data/log/1106/haixia_test_v3.1/%05d.png

python main.py --img_dir /data/log/1106/lingxi_008_origin --out_dir /data/log/1106/lingxi_008_origin_Dispose --color g --multi_process 0 --upper 81,255,233 --lower 43,44,56

python main_ps.py --img_dir /data/log/1106/lingxi_008_origin --out_dir /data/log/1106/lingxi_008_origin_Dispose2 --color c --bg /data/log/1106/lingxi_008_origin_Pic.png.png --multi_process 0


---


ffmpeg -i /data/log/1106/XiaoDu/1-new.mp4 -vf "select=not(mod(n\,1))" -vsync 0 /data/log/1106/XiaoDu/1-new/%05d.png

python main_ps.py --img_dir /data/log/1106/XiaoDu/3-驱动start0 --out_dir /data/log/1106/XiaoDu/3-驱动start0_Dispose_ps --color c --bg /data/log/1106/XiaoDu/3_pic.png --multi_process 1

python main_ps.py --img_dir /data/log/1106/XiaoDu/1-new.mp4 --out_dir /data/log/1106/XiaoDu/1-new_Dispose_ps --color c --bg /data/log/1106/XiaoDu/1_pic.png --multi_process 4

## 1107

- python get_seg_video3.py ---path G:\Video_Dispose\1106\3-result --video_file G:\Video_Dispose\1106\3-start.mp4 --start_id 1 --end_id 500

## 1108

python main_ps.py --img_dir /data/log/1106/XiaoDu/1-new --out_dir /data/log/1106/XiaoDu/1-new_Dispose_ps --color c --bg /data/log/1106/XiaoDu/1_pic.png --multi_process 4

python get_seg_video3.py ---path /data/log/1106/XiaoDu/1-new_wg2/ --video_file /data/log/1106/XiaoDu/1-new-wg.mp4 --start_id 1 --end_id 2500

1. 1待跑完看效果
2. 2存在头发丝问题
   1. 是否可以接受

--img_dir
G:\Video_Dispose\1106\XiaoDu\XiaoDu2
--out_dir
./outs
--color
g
--multi_process
0
--upper
70,255,243
--lower
42,94,74

python wipe_green.py --mask_dir /data/log/1106/XiaoDu/1-new_Dispose_ps2 --out_dir /data/log/1106/XiaoDu/1-new_wg2

## 1109

ffmpeg -i /data/log/1109/3-驱动-陈.mp4 -vf "select=not(mod(n\,1))" -vsync 0 /data/log/1109/3-驱动-陈/%05d.png
ffmpeg -i /data/log/1109/3-驱动-金可.mp4 -vf "select=not(mod(n\,1))" -vsync 0 /data/log/1109/3-驱动-金可/%05d.png

python main.py --img_dir /data/log/1109/3-驱动-陈 --out_dir /data/log/1109/3-c_100——new --color cg --bg /data/log/1109/3_c_g.png --multi_process 4 --mask_th 100

- 越小，扣的越少（绿色越多

python main.py --img_dir /data/log/1109/3-驱动-金可 --out_dir /data/log/1109/3_jk_mask100_new --color cg --bg /data/log/1109/3_jk_g.png --multi_process 20 --mask_th 100

python get_seg_video3.py ---path /data/log/1109/3-c_100_new/ --video_file /data/log/1109/3-c_100_new.mp4 --start_id 1 --end_id -1

- 3-c_100_new，陈

--img_dir
G:\Video_Dispose\1109\3-jk-ori
--out_dir
./outs
--color
cg
--bg
G:\Video_Dispose\1109\3_jk_g.png
--multi_process
20

- 删除文件
  - rm -rf ./Neng_1030/*
