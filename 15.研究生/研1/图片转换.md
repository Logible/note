# 图片转换

```py
import requests
import os
import re

# Markdown文档文件路径
markdown_file = r"G:\DownLoad\test\1.introduce.md"
# 本地图片保存路径
local_image_folder = r"G:\DownLoad\test\images"

# 创建本地图片文件夹
os.makedirs(local_image_folder, exist_ok=True)

# 读取Markdown文档内容
with open(markdown_file, 'r', encoding='utf-8') as file:
    markdown_content = file.read()

# 正则表达式来匹配图片引用
image_pattern = re.compile(r'!\[.*?\]\((https://.*?\.png)\)')

# 找到所有匹配的图片引用
image_urls = re.findall(image_pattern, markdown_content)

# 遍历每个图片URL并下载到本地
for i, image_url in enumerate(image_urls):
    response = requests.get(image_url)
    if response.status_code == 200:
        image_name = f"image_{i}.png"
        local_image_path = os.path.join(local_image_folder, image_name)
        with open(local_image_path, 'wb') as img_file:
            img_file.write(response.content)
        # 更新Markdown中的引用链接
        markdown_content = markdown_content.replace(image_url, f"{local_image_path}")

# 将更新后的Markdown内容保存回文件
with open(markdown_file, 'w') as file:
    file.write(markdown_content)

print("Images downloaded and Markdown document updated.")

---

import requests
import os
import re

# 文件夹路径
folder_path = r'your_folder_path'

# 本地图片保存路径
local_image_folder = r'your_local_image_folder'

# 创建本地图片文件夹
os.makedirs(local_image_folder, exist_ok=True)

# 获取文件夹下所有.md文件
for filename in os.listdir(folder_path):
    if filename.endswith('.md'):
        # 构建完整的文件路径
        markdown_file = os.path.join(folder_path, filename)

        # 读取Markdown文档内容
        with open(markdown_file, 'r', encoding='utf-8') as file:
            markdown_content = file.read()

        # 正则表达式来匹配图片引用
        image_pattern = re.compile(r'!\[.*?\]\((https://.*?\.png)\)')

        # 找到所有匹配的图片引用
        image_urls = re.findall(image_pattern, markdown_content)

        # 遍历每个图片URL并下载到本地
        for i, image_url in enumerate(image_urls):
            response = requests.get(image_url)
            if response.status_code == 200:
                image_name = f"image_{i}.png"
                local_image_path = os.path.join(local_image_folder, image_name)
                with open(local_image_path, 'wb') as img_file:
                    img_file.write(response.content)
                # 更新Markdown中的引用链接
                markdown_content = markdown_content.replace(image_url, f"{local_image_path}")

        # 将更新后的Markdown内容保存回文件
        with open(markdown_file, 'w') as file:
            file.write(markdown_content)

print("Images downloaded and Markdown documents updated.")
```