# 4. 函数

- [4. 函数](#4-函数)
  - [4.4函数的参数和返回值](#44函数的参数和返回值)
    - [4.4.1 函数的形式参数和实际参数](#441-函数的形式参数和实际参数)
    - [4.4.2 函数的返回值](#442-函数的返回值)
  - [4.6 局部变量和全局变量](#46-局部变量和全局变量)
    - [4.6.1 局部变量](#461-局部变量)
    - [4.6.2 全局变量](#462-全局变量)
  - [4.7 变量的存储类变量的存储类型型](#47-变量的存储类变量的存储类型型)
    - [4.7.1 动态存储与静态存储](#471-动态存储与静态存储)
      - [1.动态存储](#1动态存储)
      - [2.静态存储](#2静态存储)
    - [4.7.2 auto变量](#472-auto变量)
    - [4.7.3 static变量](#473-static变量)
    - [4.7.4 register变量](#474-register变量)
    - [4.7.5 用extern声明外部变量](#475-用extern声明外部变量)
  - [4.8](#48)
  - [习题](#习题)
    - [填空题](#填空题)
    - [结果题](#结果题)

## 4.4函数的参数和返回值

### 4.4.1 函数的形式参数和实际参数

1. 形参
   1. 在**函数的定义中使用的参数**叫做形式参数，简称形参，它在整个函数体内都可以使用，离开该函数则不能使用
2. 实参
   1. **主调函数中对应于形式参数**的量称为实际参数，简称实参，进入被调函数后，实参变量也不能使用。

- 形参只能是变量
- 实参可以是常量、变量、表达式和函数等

### 4.4.2 函数的返回值

```c
return express;
```

- 函数返回值的类型由定义函数时的类型决定

## 4.6 局部变量和全局变量

### 4.6.1 局部变量

- 局部变量
  - 也称为内部变量。局部变量是在函数内作定义说明的变量。其作用域仅限于函数内部，离开该函数后就不能再使用

### 4.6.2 全局变量

- 全局变量
  - 又称为**外部变量**，它是在函数外部定义的变量。它不属于某一个函数，它属于一个源程序文件。其作用域是整个源程序

- 全局变量和局部变量同名时，在函数中把全局变量暂时隐藏起来，而局部变量起作用

## 4.7 变量的存储类变量的存储类型型

![20230309091828](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230309091828.png)

### 4.7.1 动态存储与静态存储

#### 1.动态存储

- 程序在运行期间**根据需要**分配存储空间
  - 在动态存储区的变量称为**动态存储变量**(简称动态变量或**自动变量**),
    - 动态存储变量可以是函数的**形式参数、局部变量**、函数调用时的**现场保护和返回地址**。
      - 💚这些动态存储变量在**函数调用时**分配存储空间，函数调用结束后释放存储空间。

#### 2.静态存储

- 程序在运行期间由**系统分配**固定的存储空间。
  - 在静态存储区的变量称为**静态变量**
    - 它可以是全局变量，也可以是局部变量。
      - 无论是做全局变量或是局部变量，💚其定义和初始化在**程序编译时**进行。

### 4.7.2 auto变量

- **auto(自动)变量**是以动态存储方式分配存储空间的
  - 它们都是局部变量，其数据存储在动态存储区中
  - 如函数的形式参数和函数中定义的变量，

```C
void function(){
  //一般情况下，auto可以省略
  auto int x,y;
  //OR
  int x,y
}
```

### 4.7.3 static变量

1. 静态局部变量
   1. 它的数据存储在静态存储区
   2. 它与局部变量的区别
      1. 函数退出时，变量始终存在，但不能被其他函数使用，
2. 静态全局变量：指只在定义它的源文件中可见而在其他源文件中不可见的变量
   1. 它与全局变量的区别
      1. 全局变量可以再说明为外部变量(extern),被其他源文件使用，而静态全局变量却不能再被说明为外部的，只能被所在的源文件使用。

- 若定义**全局变量/静态局部变量**不赋初值，则**编译时**自动赋初值**0**(数值型变量)或**空字符**(字符型变量)。

### 4.7.4 register变量

1. 有时为了提高执行速度，将变量的值不存入内存，而直接保存在CPU内的寄存器中，以使速度大大提高

```C
register int i;
```

- register变量不能是全局变量和静态局部变量，只能是**auto变量**。

### 4.7.5 用extern声明外部变量

1. 外部变量(即全局变量)是在函数的外部定义的
   1. 它的作用域为从变量定义处开始
   2. 到该程序文件的末尾
2. 如果在定义点前的函数要引用该外部变量
   1. 则在引用之前用关键字**extern**对该变量进行"外部**变量声明**"

```c
void gx(){
  extern int x,y;
}
```

## 4.8

- is it wrong?<image style="height:300px; background-color:#CDDEC2" src="https://raw.githubusercontent.com/Logible/Image/main/note_image/20230307110603.png"/>

## 习题

⭐⭐⭐

- 02![20230307114718](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230307114718.png)
- 03![20230307114755](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230307114755.png)
- 10![20230307130942](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230307130942.png)
  - 💚全局变量&&静态变量初值
  - 💚其它变量赋初值, 并且值不确定(devc中int为0)
- 12![20230307131626](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230307131626.png)
  - 💚全局变量为非自动变量
- 13递归调用定义![20230307115108](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230307115108.png)

### 填空题

⭐⭐⭐

- 01![20230307150345](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230307150345.png)
- 03![20230307150459](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230307150459.png)
  - 💚静态变量 & 动态变量
- 06![20230307150642](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230307150642.png)
  - 变量赋初值的两个阶段

### 结果题

⭐⭐⭐⭐

- <image style="height:800px; background-color:#CDDEC2" src="https://raw.githubusercontent.com/Logible/Image/main/note_image/20230307200430.png"/>
