# 数据类型、运算符和表达式

- [数据类型、运算符和表达式](#数据类型运算符和表达式)
  - [2.2常量与变量](#22常量与变量)
    - [2.2.1 标识符命名](#221-标识符命名)
    - [2.2.2 常量](#222-常量)
  - [2.3整型数据](#23整型数据)
    - [2.3.1 整型常量](#231-整型常量)
  - [2.3.2 整形变量](#232-整形变量)
    - [2.4.1 浮点常量](#241-浮点常量)
    - [2.4.2 浮点变量](#242-浮点变量)
  - [2.5.4字符变量](#254字符变量)
  - [2.6 运算符和表达式](#26-运算符和表达式)
    - [2.6.1 算术运算符](#261-算术运算符)
    - [2.6.2 自增和自减运算符](#262-自增和自减运算符)
    - [2.6.3 关系运算符和逻辑运算符](#263-关系运算符和逻辑运算符)
    - [2.6.4 位操作符](#264-位操作符)
    - [2.6.5 条件运算符](#265-条件运算符)
    - [2.6.6 逗号操作符](#266-逗号操作符)
    - [2.6.7 赋值运算符](#267-赋值运算符)
    - [2.6.8 复合赋值运算符](#268-复合赋值运算符)
    - [2.6.9 关于优先级的小结](#269-关于优先级的小结)
  - [2.7表达式求值](#27表达式求值)
    - [2.7.1 算术表达式](#271-算术表达式)
    - [2.7.2 赋值表达式](#272-赋值表达式)
    - [2.7.3关系表达式和逻辑表达式](#273关系表达式和逻辑表达式)
      - [1.关系表达式](#1关系表达式)
      - [2.逻辑表达式](#2逻辑表达式)
      - [3.短路表达式(一种逻辑表达式)](#3短路表达式一种逻辑表达式)
  - [习题](#习题)
    - [填空题](#填空题)

## 2.2常量与变量

### 2.2.1 标识符命名

1. 标识符只能由数字、字母、下划线_组成，而且数字不能作为标识符的第一个字符
2. C语言的标识符又可分为**用户自定义标识**符和**标准标识符(关键字)**,标准标识符拥有特殊的含义，是系统专用的

### 2.2.2 常量

1. 常量就是在程序运行过程中其值不发生改变的量
2. 而用一个标识符来表示常量，称为**符号常量**
3. 在C语言中一般用宏定义来定义符号常量

```c
#define LOG_AGE 22
```

## 2.3整型数据

### 2.3.1 整型常量

类型|组成|组成规则|举 例
---|---|---|---|
十进制   |数字0～9  |非0数字开头 | 12,-1234,+10
八进制   |数字0~7  |0数字开头    | 012
十六进制 |数字0～9  |0x或0X开头| 0x10,0x12f

## 2.3.2 整形变量

1. 整型变量根据取值范围不同可分为
   1. 短整型(short int)
   2. 整型(int)
   3. 长整型(long int)。
2. 每种类型又可以分为
   1. 有符号(signed)
   2. 无符号(unsigned)

![整形变量](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230225100912.png)

### 2.4.1 浮点常量

浮点常量又称为**实型常量或实数**

### 2.4.2 浮点变量

- 浮点型数据在内存中是按指数形式存储的，把一个浮点型数据分成小数和指数两部分

![20230225102023](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230225102023.png)

- 浮点变量一般分为单精度(float)、双精度(double)和长双精度(long double),如表2-4所示。

![20230225102117](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230225102117.png)

## 2.5.4字符变量

- 字符变量用来存储字符，它只能存储一个字符，不能存储字符串。
- 在C语言中，字符是按其所对应的ASCII码来存储的，一个字符占**一个字节**(即8位)。

## 2.6 运算符和表达式

### 2.6.1 算术运算符

- 取余运算要求运算符两端都必须为整型数据，**浮点数据不能进行取余运算**。
- 如果除数或被除数中有一个是负数，取余运算的结果可根据公式$m=pq+r$(其中m为被除数、q为除数、p为商、r为余数)得到余数r,如-5%3结果为-2,5%-3的结果为2。

### 2.6.2 自增和自减运算符

### 2.6.3 关系运算符和逻辑运算符

![20230225152459](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230225152459.png)

### 2.6.4 位操作符

1. 按位与(&)
   1. 且对应位都是1时结果才能为1. 否则为0
2. 按位或(|)
   1. 且对应位只要有一个为1时结果为1,两个都为0时才为0
3. 按位异或(^)
   1. 对应位不相同时结果为1, 相同时才为0
4. 按位取反(～)
   1. 将运算对象转化为二进制，且对应位取反
5. 按位右移(>>)
   1. 对于“无符号”整型数据，右移一位相当于除以2
      1. 因为对于负数, 第一位是符号位1,补全是补全1,故不能是除2
   2. 当右移后左边空出的位，用最高位的值来补全。
6. 按位左移(<<)
   1. 对于整型数据，左移一位相当于乘以2.⭐=⭐那全1呢?,111->1110,也是乘2
   2. 当左移后右边空出的位，用0来补全。

### 2.6.5 条件运算符

条件运算符的结合性是从右向左结合

```c
运算对象1?运算对象2:运算对象3;

a>b?a:(c>d?c:d) == a>b?a:c>d?c:d
```

### 2.6.6 逗号操作符

- 功能：先计算运算对象1的值，再计算运算对象2的值，直到最后计算运算对象n的值，那么整个运算的结果就是运算对象n的值。

```c
运算对象1,运算对象2,…,运算对象n
// answer is 40
x=5*6,x+10
```

### 2.6.7 赋值运算符

- 赋值中的类型转换，当赋值运算符两端运算对象的类型不同时，以**左边变量的类型为主**，即把赋值运算符右边运算对象的类型转换为左边变量的类型。

```c
int x;
x=5.4;//x is 5

double y;
y=50;//y is 50.0
```

### 2.6.8 复合赋值运算符

### 2.6.9 关于优先级的小结

- 所有的优先级中，只有3个优先级是从右至左结合的，它们是
  - 单目运算符
    - ![20230329114547](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230329114547.png)
  - 条件运算符
  - 赋值运算符，
- 其他的都是从左至右结合

## 2.7表达式求值

### 2.7.1 算术表达式

```c
a/(b+3)+12+'a'
```

- 算术表达式是用算术运算符将运算对象(常量、变量、函数等)、圆括号连接起来的式子。
- 最简单的情况是**一个常量**以及**一个变量**(赋过值的)

- 表达式值的类型
  - 图中横向箭头表示一定要转换，即float要转换为double,char转换为short,short转换为int。
  - 纵向箭头表示当运算对象为不同类型时先将int转换成double,然后在相同的数据类型间进行运算。

![20230225112455](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230225112455.png)

- tips:
  - 所有的浮点运算都是以双精度进行的，即使运算中只有 float 类型，也要先转换为double 类型，才能进行运算。 char 和short 参与运算时，必须先转换成int 类型

### 2.7.2 赋值表达式

- 将一个变量和表达式连接起来构成的式子，如

```c
x=20/4
```

### 2.7.3关系表达式和逻辑表达式

#### 1.关系表达式

```c
a+3>b+4
```

- 用**关系运算符**将两个运算对象(算术表达式、赋值表达式、关系表达式和逻辑表达式等)**连接**起来构成的式子。
- 关系表达式的值是一个逻辑值，即“真(1)”或“假(0)”,

#### 2.逻辑表达式

```c
(a=2)&&(b=4)
//值为1
```

- 用**逻辑运算符**将运算对象连接起来的式子。逻辑表达式的值只能是“真”或“假”

#### 3.短路表达式(一种逻辑表达式)

- 只有在必须执行下一个逻辑运算符才能求出表达式的解时，才执行该运算符。

```c
a&&b&&c/*只在a为真时，才判别b的值；只有在a、b都为真时，才判别c的值。*/
a||b||c /*只在a为假时，才判别b的值；只有在a、b都为假时，才判别c的值*/
```

## 习题

⭐⭐

- 09![20230225160020](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230225160020.png)

![20230312210634](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230312210634.png)

### 填空题

⭐=⭐

- 02为何不是46![20230225165128](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230225165128.png)
  - x*2, 但是未赋值
- 09double为何是6位?![20230225165739](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230225165739.png)
  - 系统默认设定显示(小数按6位小数输出)

⭐

- 05![20230225165412](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230225165412.png)
- 06![20230225165457](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230225165457.png)
  - 不带任何修饰符的浮点常量 - 双精度
- 10![20230225165819](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230225165819.png)
- 11![20230225170005](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230225170005.png)
- 12单目运算符优先级![20230225170058](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230225170058.png)
  - 关系表达式的值是0/1
- 18浮点数![20230225170502](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230225170502.png)
  - 浮点数-fabs()
  - 普通-abs()
