# 关系数据库理论

- [关系数据库理论](#关系数据库理论)
  - [规范化理论](#规范化理论)
  - [优化数据库模式设计的方法](#优化数据库模式设计的方法)
  - [了解相关数据库逻辑设计的理论](#了解相关数据库逻辑设计的理论)

The follows is what we need to master in teaching. Can you explain his concept and then give corresponding examples and write corresponding codes?

了解相关数据库逻辑设计的理论

## 规范化理论

- 数据库规范化是一种优化数据库设计的过程，旨在**减少数据冗余并消除数据不一致性**。规范化的主要目标是将数据**分成逻辑上相关的表**，以最大程度地减少重复数据并提高数据的一致性和可维护性。

- 规范化理论包括一系列规范化形式，每个规范化形式都有其特定的规则和条件，可以用于设计和改进数据库架构。以下是常见的规范化形式：

1. 第一范式（1NF）：表中的每个属性都是**原子性的**，不可再分；
2. 第二范式（2NF）：
   1. 表中的每个非主键属性都**完全依赖**于主键(码)；
   2. 在满足1NF的前提下，不包含非主属性对码的**部分函数依赖** (即每一个非主属性都完全函数依赖于码)
3. 第三范式（3NF）：
   1. 在满足2NF的前提下，不包含非主属性对码的**传递函数依赖** (即码应该直接决定非主属性，不能间接决定)
4. 巴斯-科德范式（BCNF）：就是对于候选码中包含多个属性时，里面的**关键字段互相没有依赖**。
   1. 不应存在关键字决定关键字的情况
   2. ![20230404145244](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230404145244.png)
5. 第四范式（4NF）：对于候选键**只能存在不超过1个多值属性**。要求把同一表内的多对多关系删除。

- 函数依赖![20230404112418](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230404112418.png)

## 优化数据库模式设计的方法

1. 避免冗余数据：
   1. 冗余数据会增加数据库的存储空间，增加数据更新的复杂性，并且可能导致数据不一致。因此，在设计数据库时，应该尽可能**避免冗余数据**。
2. 使用适当的数据类型：
   1. 选择**正确的数据类型**可以减少存储空间的使用，提高数据读写的效率。例如，对于整数类型的数据，应该选择最小的整数类型来存储数据，如TINYINT、SMALLINT等。
3. 合理使用索引：索引可以加快数据检索的速度，但**过多的索引会降低数据写入的效率**。因此，在设计数据库时，需要合理使用索引。
4. 使用范式化的数据模型：
   1. 范式化的数据模型可以减少数据冗余，提高数据的一致性和完整性。常用的范式包括第一范式（1NF）、第二范式（2NF）、第三范式（3NF）和BC范式等。

## 了解相关数据库逻辑设计的理论

- 数据库逻辑设计是指在进行数据库设计之前，需要对需求进行分析和建模，从而确定数据的结构和关系，以及数据库中的约束条件和操作等。这个过程需要遵循一定的设计原则和规范，以确保数据库能够满足业务需求，保证数据的完整性、一致性和可靠性。

- 数据库逻辑设计通常包括以下几个方面：

1. 数据建模：**将实际业务中的对象抽象成实体**，并确定实体之间的关系。数据建模的过程通常使用实体关系模型（ER模型）进行描述，包括实体、属性、关系等元素。
2. 数据规范化：**对数据进行规范化处理**，避免数据冗余和不一致，提高数据的查询和维护效率。常用的规范化理论包括第一范式、第二范式、第三范式、巴斯-科德范式等。
3. 约束条件：确定**数据库中的约束条件**，包括实体完整性、域完整性、参照完整性等。这些约束条件可以保证数据的完整性和一致性，避免数据被非法修改或删除。

操作和权限：确定数据库的操作和权限，包括用户的访问权限、数据的访问方式等。这些操作和权限可以保证数据的安全性和可靠性，避免数据被恶意操作或篡改。
