# 关系数据库

- [关系数据库](#关系数据库)
  - [关系模型的三个组成部分及各部分所包括的主要内容](#关系模型的三个组成部分及各部分所包括的主要内容)
    - [关系模型的数据结构](#关系模型的数据结构)
    - [关系模型的数据操纵](#关系模型的数据操纵)
    - [完整性约束](#完整性约束)
    - [笛卡尔积](#笛卡尔积)

1、要求考生熟练掌握关系模型的三个组成部分及各部分所包括的主要内容。
2、要求考生掌握关系数据结构及其定义。
3、要求考生熟练掌握关系的三类完整性约束的概念。

## 关系模型的三个组成部分及各部分所包括的主要内容

- 术语
  - ![20230402162802](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230402162802.png)

### 关系模型的数据结构

- 关系模型的数据结构非常简单，只包含**单一的数据结构——关系**。在用户看来，关系模型中数据的逻辑结构是一张扁平的二维表。
- 每个关系的数据结构是**一张规范化的二维表**
  - ![20230402163127](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230402163127.png)

### 关系模型的数据操纵

- 关系模型的数据操纵主要包括查询、插入删除和更新数据。这些操作必须满足关系的完整性约束条件。
- 关系模型提供了一系列对数据进行操作的操作符，包括**4⭐选择、投影、连接、除、并、差等**。这些操作符可以帮助用户从数据库中检索所需的数据，或者进行数据的添加、删除、更新等操作

- 选择（SELECT）：用于从表中选择符合指定条件的行。
  - 示例：`SELECT * FROM table_name WHERE condition`;
- 投影（PROJECT）：用于从表中选择指定列。
  - 示例：`SELECT column1, column2 FROM table_name`;
- 连接（JOIN）：用于将两个或多个表中的行按照指定的关联条件组合在一起。
  - 示例：`SELECT * FROM table1 JOIN table2 ON condition`;
- 除（EXCEPT）：用于从一个表中删除另一个表中也包含的行。
  - 示例：`SELECT * FROM table1 EXCEPT SELECT * FROM table2`;
- 并（UNION）：用于将两个或多个表中的行合并在一起。
  - 示例：`SELECT * FROM table1 UNION SELECT * FROM table2`;
- 差（MINUS）：用于从一个表中删除另一个表中也包含的行，但不同于EXCEPT的是，该操作只保留第一个表中的数据。
  - 示例：`SELECT * FROM table1 MINUS SELECT * FROM table2`;

### 完整性约束

- 关系的完整性约束条件包括三大类:实体完整性、参照完整性和用户定义的完整性。

- 实体完整性指的是**每个实体都必须有一个主键**，并且主键的取值不能为空；
- 参照完整性指的是如果一个表中的一个属性引用了另一个表中的主键，那么该属性的取值必须等于被引用表中某个主键的取值，或者为空；
- 用户定义完整性指的是用户可以定义自己的完整性规则，保证数据的完整性和一致性。
  - 例如，在例 2.1 的学生关系中，若按照应用的要求学生不能没有姓名，则可以定义学生姓名不能取空值;
  - 某个属性(如学生的成绩)，的取值范围可以定义在 0~100之间等。

### 笛卡尔积

![20230402165232](https://raw.githubusercontent.com/Logible/Image/main/note_image/20230402165232.png)
