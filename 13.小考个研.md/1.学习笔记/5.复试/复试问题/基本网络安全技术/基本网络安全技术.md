# 基本网络安全技术

- [基本网络安全技术](#基本网络安全技术)
  - [防火墙](#防火墙)
  - [SSL\&TLS(传输层应用层之间)](#ssltls传输层应用层之间)
  - [IPsec(传输层和网络层)](#ipsec传输层和网络层)
    - [安全关系SA](#安全关系sa)
  - [SSH](#ssh)
    - [私钥和公钥](#私钥和公钥)

1. 防火墙：
   1. 防火墙是一种网络安全设备，用于**监控和控制网络流量**。它的主要作用是**保护计算机网络免受未经授权的访问、恶意攻击、病毒和蠕虫等安全威胁**。
   2. 防火墙通常位于**网络边界**，可以**检测和阻止网络流量的进出**，从而有效地保护**内部网络**免受外部网络的攻击。

2. 加密技术：加密技术是**将敏感信息转换为不可读**的形式，以保护数据的机密性和完整性。常见的加密技术包括**SSL/TLS、IPSec和SSH**等。

3. 身份验证和授权：身份验证和授权是确保只有授权用户可以访问系统和数据的技术。这些技术包括密码、双因素身份验证、访问控制列表等。

4. 安全更新和漏洞修补：安全更新和漏洞修补是保持系统和应用程序安全性的关键技术。这些更新包括安全补丁、操作系统更新和应用程序更新等。

## 防火墙

- 防火墙可以基于不同的**规则和策略**来工作。
- 其中一种常见的方式是基于**端口和协议**来过滤网络流量。例如，防火墙可以配置为允许HTTP和HTTPS流量通过，但阻止其他未经授权的端口和协议。
- 另一种常见的方式是基于**IP地址和域名**来过滤流量，例如防火墙可以配置为允许特定IP地址或域名的流量通过，但阻止其他来源的流量。

- 防火墙还可以提供其他的安全功能，例如**入侵检测和预防、VPN、网络地址转换等**。它们可以与其他网络安全设备（如入侵检测系统和反病毒软件）一起使用，从而为网络提供全面的安全保护。

## SSL&TLS(传输层应用层之间)

- SSL（Secure Sockets Layer）和TLS（Transport Layer Security）是两种加密协议，用于在互联网上安全地传输数据。它们通过使用**公钥和私钥加密技术**来保护数据的机密性、完整性和身份验证。

- SSL是最早的安全协议之一，现在已经被TLS取代。TLS是一种更安全的协议，它在SSL基础上进行了改进和扩展。
- SSL和TLS协议的工作方式如下：

1. 握手阶段：在握手阶段，客户端和服务器之间**进行握手，以建立安全连接**。客户端向服务器发送一个加密请求，并提供一些安全参数，例如支持的**加密算法、密钥长度和证书信息**。
2. 验证阶段：在验证阶段，服务器向客户端发送**数字证书**，以证明其身份。客户端可以验证数字证书的有效性和完整性，并确定是否信任该证书。如果证书验证失败，则连接将被中断。
3. 密钥协商阶段：在密钥协商阶段，客户端和服务器**协商一个用于加密通信的共享密钥**。该密钥用于对数据进行加密和解密，以确保通信的机密性和完整性。
4. 数据传输阶段：在数据传输阶段，客户端和服务器使用**协商好的共享密钥对数据进行加密和解密**，以确保数据的机密性、完整性和身份验证。

## IPsec(传输层和网络层)

- IPSec（Internet Protocol Security）是一种在IP网络上**提供安全性的协议套件**，用于确保数据的机密性、完整性和身份验证。
- IPSec可以用于虚拟专用网（VPN）和远程访问等场景，可以在传输层和网络层提供安全保障。

- IPSec协议套件由多个协议组成，包括：

1. 认证头（AH，Authentication Header）：提供**数据完整性和身份认证**。AH可以保证数据不被篡改或伪造，同时确保数据是来自于指定的发送者。
2. 封装安全负载（ESP，Encapsulating Security Payload）：**提供机密性、完整性和可选的身份认证**。ESP可以将传输数据进行加密，以保证数据的机密性；同时还可以提供数据完整性，以确保数据不被篡改。
3. 安全关联（SA，Security Association）：**用于存储和管理安全参数**。SA是IPSec安全通信的关键组件之一，它包含了用于建立安全通信的加密算法、密钥长度、协议模式等参数信息。

- 在IPsec中，通信双方首先需要建立安全关联（Security Association，SA）
- 然后当数据从发送方发送时，IPsec将**对数据进行加密和封装**，然后添加一个安全协议头（例如AH或ESP头），以确保数据的安全性。
- 接收方接收到数据后，IPsec会对数据进行**解密和解封装**，并验证安全协议头以确保数据的完整性和身份认证。

### 安全关系SA

- 安全关联（Security Association，SA）是指在网络安全中，建立通信双方之间的安全通信环境**所需的一系列安全属性的集合**。
- SA通常包括加密算法、密钥长度、密钥分配方式、消息认证码算法等安全参数。在使用IPSec、SSL/TLS等协议进行安全通信时，需要事先建立安全关联，以确保双方的通信是安全的。

## SSH

- SSH（Secure Shell）是一种安全的网络协议，用于远程登录到计算机系统和执行命令。

- SSH2是目前广泛使用的版本，它包含了许多安全机制，如身份验证、数据加密和完整性保护等，以确保远程访问的安全性。

- SSH的主要特点包括：

1. 安全性：SSH协议使用公钥加密技术对数据进行加密和解密，同时还有身份验证机制，防止未经授权的用户访问系统。
2. 灵活性：SSH支持各种不同的身份验证机制，包括口令认证、公钥认证、证书认证等。
3. 跨平台性：SSH协议可以在各种操作系统平台上使用，包括Windows、Linux、Unix等。
4. 远程操作性：SSH可以远程连接到其他计算机系统，执行命令和管理文件。
5. 端口转发：SSH支持端口转发功能，可以安全地将一个本地端口的流量转发到远程主机上。

- SSH（Secure Shell）协议的工作原理如下：

1. 首先，客户端向服务器发送连接请求。这个连接请求是明文的，因此存在被窃听的风险。
2. 服务器接收到请求后，会生成一对公钥和私钥，并将公钥发送给客户端。同时，服务器会要求客户端进行身份验证，以确认客户端的身份。
3. 客户端接收到服务器的公钥后，会使用公钥加密一个随机的对称密钥，并将加密后的密钥发送给服务器。
4. 服务器使用自己的私钥解密客户端发送的密钥，并使用这个密钥对数据进行加密和解密。这个对称密钥只在这次会话中使用，因此是安全的。
5. 一旦客户端和服务器之间建立了安全连接，客户端就可以在远程终端上执行命令，并从服务器接收响应。所有的数据传输都是经过加密的，因此无法被窃听和篡改。

### 私钥和公钥

- 所以私钥是用来解锁公钥的 对吗

- 是的，私钥和公钥是一对密钥，私钥用于解密使用公钥加密的数据，**而公钥用于加密数据，使其只能由拥有对应私钥的人解密**。在SSH协议中，服务器会生成一对公钥和私钥，并将公钥发送给客户端，客户端使用公钥加密对称密钥后再发送给服务器，服务器使用私钥解密得到对称密钥，从而建立安全连接。
