# 7.2 顺序查找和折半查找

- [7.2 顺序查找和折半查找](#72-顺序查找和折半查找)
  - [7.2.1 顺序查找](#721-顺序查找)
    - [1. 一般线性表的顺序查找](#1-一般线性表的顺序查找)
    - [2. 有序表的顺序查找](#2-有序表的顺序查找)

## 7.2.1 顺序查找

1. 顺序查找又称线性查找，它对**顺序表和链表**都是适用的。
   1. 对于顺序表，可通过数组下标递增来顺序扫描每个元素;
   2. 对于链表，可通过指针next来依次扫描每个元素。
2. 顺序查找通常分为对
   1. 一般的**无序**线性表的顺序查找
   2. 对**按关键字有序**的线性表的顺序查找。

### 1. 一般线性表的顺序查找

1. 定义
   1. 从线性表的一端开始，逐个检查关键字是否满足给定的条件。
      1. 若查找到某个元素的关键字满足给定条件
         1. 则查找成功，返回该元素在线性表中的位置
      2. 若已经查找到表的另一端，但还没有查找到符合给定条件的元素
         1. 则返回查找失败的信息

- code

```c
typedef struct
{
   ElemType *elem; //元素的存储空间基址, 建表时按实际长度分配
   int TableLen;   //表的长度
} SStable;

int Search_Seq(SStable ST, ElemType key)
{
   ST.elem[0] = key; //光明哨兵
   for (int i = ST.TableLen; ST.elem[i] != key; --i); //从后往前找
   return i;//若表中不存在关键字为key的元素,将查找到i为0时退出for循环
}
```

1. ASL
   1. 对于有$n$个元素的表，给定值key与表中第$i$个元素相等，即定位第$i$个元素时，需进行$n-i+1$次关键字的比较，即$C=n-i+1$
   2. 查找成功时，顺序查找的平均长度为

        $\displaystyle ASL_{success}\sum_{i=1}^{n}P_i(n-i-1)=\frac{n+1}{2}$

   3. 查找不成功时

        $ASL_{fail}=n-1$

2. Tips:
   1. 对线性的链表只能进行顺序查找

### 2. 有序表的顺序查找

1. 基本思想
   1. 假设表L是按关键字从小到大排列的，查找的顺序是从前往后，待查找元素的关键字为key
      1. 当查找到第i个元素时，发现第i个元素对应的关键字小于key
      2. 但第i + 1个元素对应的关键字大于key
   2. 这时就可返回查找失败的信息

2. 判定树
   1. 可以用如图7.1所示的判定树来描述有序线性表的查找过程。
      1. 树中的圆形结点表示有序线性表中存在的元素
      2. 树中的矩形结点称为失败结点(若有$N$个结点，则相应地有$N+1$个查找失败结点)，它描述的是那些不在表中的数据值的集合。
   2. 若查找到失败结点，则说明查找不成功。

    ![图7.1](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220829173726.png)

3. ASL
   1. 查找不成功的平均查找长度在相等查找概率的情形下为

        $\displaystyle ASL_{fail}\sum_{j=1}^{n}q_j(l_j-1)=\frac{1+2+...+n+n}{n+1}=\frac{n}{2}+\frac{n}{n+1}$

        1. $q_j$是到达第$j$个失败结点的概率，在相等查找概率的情形下，它为$\displaystyle \frac{1}{n+1}$
        2. $l_j$是第$j$个失败结点所在的层数

   2. 查找成功与一般线性表的顺序查找一样
