# Á∫øÁ¥¢‰∫åÂèâÊ†ë

- [Á∫øÁ¥¢‰∫åÂèâÊ†ë](#Á∫øÁ¥¢‰∫åÂèâÊ†ë)
  - [1.Á∫øÁ¥¢‰∫åÂèâÊ†ëÁöÑÂü∫Êú¨Ê¶ÇÂøµ](#1Á∫øÁ¥¢‰∫åÂèâÊ†ëÁöÑÂü∫Êú¨Ê¶ÇÂøµ)
  - [2.‰∏≠Â∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ëÁöÑÊûÑÈÄ†](#2‰∏≠Â∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ëÁöÑÊûÑÈÄ†)
  - [3.‰∏≠Â∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ëÁöÑÈÅçÂéÜ](#3‰∏≠Â∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ëÁöÑÈÅçÂéÜ)
  - [4.ÂÖàÂ∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ëÂíåÂêéÂ∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ëÁöÑÊûÑÈÄ†](#4ÂÖàÂ∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ëÂíåÂêéÂ∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ëÁöÑÊûÑÈÄ†)
    - [Â∫îÁî®È¢ò ÈùûÁúüÈ¢òÊú™ÂÅö](#Â∫îÁî®È¢ò-ÈùûÁúüÈ¢òÊú™ÂÅö)

## 1.Á∫øÁ¥¢‰∫åÂèâÊ†ëÁöÑÂü∫Êú¨Ê¶ÇÂøµ

1. Áî±Êù•
   1. Âú®Âê´n‰∏™ÁªìÁÇπÁöÑ‰∫åÂèâÊ†ë‰∏≠ÔºåÊúân+1‰∏™Á©∫ÊåáÈíà, Âà©Áî®Ëøô‰∫õÁ©∫ÊåáÈíàÊù•Â≠òÊîæÊåáÂêëÂÖ∂ÂâçÈ©±ÊàñÂêéÁªßÁöÑÊåáÈíà, ËøôÊ†∑Â∞±ÂèØ‰ª•ÂÉèÈÅçÂéÜÂçïÈìæË°®ÈÇ£Ê†∑Êñπ‰æøÂú∞ÈÅçÂéÜ‰∫åÂèâÊ†ë

2. ËßÑÂÆö
   1. Ëã•Êó†Â∑¶Â≠êÊ†ëÔºå‰ª§lchildÊåáÂêëÂÖ∂ÂâçÈ©±ÁªìÁÇπ;
   2. Ëã•Êó†Âè≥Â≠êÊ†ëÔºå‰ª§rchildÊåáÂêëÂÖ∂ÂêéÁªßÁªìÁÇπ;
   3. Ê≠§Â§ñ
      1. ËøòÈúÄÂ¢ûÂä†‰∏§‰∏™Ê†áÂøóÂüüÊ†áËØÜÊåáÈíàÂüüÊòØ:
         1. ÊåáÂêëÂ∑¶(Âè≥)Â≠©Â≠ê
         2. ËøòÊòØÊåáÂêëÂâçÈ©±(ÂêéÁªß)

3. ÁªìÁÇπÁªìÊûÑ

    |lchild|ltag|data|rtag|rchild|
    |--|--|--|--|--|
    |

    $$ltag\begin{cases}
    0 & lchildÂüüÊåáÁ§∫ÁªìÁÇπÁöÑÂ∑¶Â≠©Â≠ê\\
    1 & lchildÂüüÊåáÁ§∫ÁªìÁÇπÁöÑÂâçÈ©±
    \end{cases}$$

    $$rtag\begin{cases}
    0 & rchildÂüüÊåáÁ§∫ÁªìÁÇπÁöÑÂè≥Â≠©Â≠ê\\
    1 & rchildÂüüÊåáÁ§∫ÁªìÁÇπÁöÑÂêéÁªß
    \end{cases}$$

4. ÂÆö‰πâ
   1. Á∫øÁ¥¢ÈìæË°®
      1. ‰ª•ËøôÁßçÁªìÁÇπÁªìÊûÑÊûÑÊàêÁöÑ**‰∫åÂèâÈìæË°®**‰Ωú‰∏∫‰∫åÂèâÊ†ëÁöÑÂ≠òÂÇ®ÁªìÊûÑ;
   2. Á∫øÁ¥¢
      1. ÊåáÂêëÁªìÁÇπÂâçÈ©±ÂíåÂêéÁªßÁöÑÊåáÈíà;
   3. Á∫øÁ¥¢‰∫åÂèâÊ†ë
      1. Âä†‰∏äÁ∫øÁ¥¢ÁöÑ‰∫åÂèâÊ†ë;

5. ÊâãÂä®Á∫øÁ¥¢
   1. Ê†áÂá∫ÁªìÁÇπËÆøÈóÆÈ°∫Â∫è
   2. ÊåâÁÖßÁ©∫Â∑¶ÁªìÁÇπÊåáÂêëÁªìÁÇπÁöÑÂâçÈ©±
   3. Á©∫Âè≥ÁªìÁÇπÊåáÂêëÁªìÁÇπÁöÑÂêéÁªß
   4. ÈáçÂ§ç23, ÂÆåÊàêÊûÑÈÄ†Á∫øÁ¥¢‰∫åÂèâÊ†ë

## 2.‰∏≠Â∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ëÁöÑÊûÑÈÄ†

1. Á∫øÁ¥¢ÂåñÁöÑÂÆûË¥®
   1. Â∞Ü‰∫åÂèâÈìæË°®‰∏≠ÁöÑ**Á©∫ÊåáÈíà**Êîπ‰∏∫ÊåáÂêë**ÂâçÈ©±ÊàñÂêéÁªßÁöÑÁ∫øÁ¥¢**„ÄÇËÄåÂâçÈ©±ÊàñÂêéÁªßÁöÑ‰ø°ÊÅØÂè™ÊúâÂú®ÈÅçÂéÜÊó∂ÊâçËÉΩÂæóÂà∞ÔºåÂõ†Ê≠§Á∫øÁ¥¢ÂåñÁöÑÂÆûË¥®Â∞±ÊòØ**ÈÅçÂéÜ‰∏ÄÊ¨°‰∫åÂèâÊ†ë**;

2. ÁÆóÊ≥ïÊÄùÊÉ≥
   1. ÈôÑËÆæÊåáÈíà**pre**ÊåáÂêëÂàöÂàöËÆøÈóÆËøáÁöÑÁªìÁÇπ
   2. ÊåáÈíàpÊåáÂêëÊ≠£Âú®ËÆøÈóÆÁöÑÁªìÁÇπÔºåÂç≥preÊåáÂêëpÁöÑÂâçÈ©±
   3. Âú®‰∏≠Â∫èÈÅçÂéÜÁöÑËøáÁ®ã‰∏≠
      1. Ê£ÄÊü•pÁöÑÂ∑¶ÊåáÈíàÊòØÂê¶‰∏∫Á©∫
         1. Ëã•‰∏∫Á©∫Â∞±Â∞ÜÂÆÉÊåáÂêëpre
      2. Ê£ÄÊü•preÁöÑÂè≥ÊåáÈíàÊòØÂê¶‰∏∫Á©∫
         1. Ëã•‰∏∫Á©∫Â∞±Â∞ÜÂÆÉÊåáÂêëp

```c
void InThread(ThreadTree &p, ThreadTree &pre)
{
    if (p != NULL)
    {
        //ÈÄíÂΩí Á∫øÁ¥¢ÂåñÂ∑¶Â≠êÊ†ë
        InThread(p->lchild, pre);

        //Â§ÑÁêÜÊ†πËäÇÁÇπ
        visit(p, pre);

        //ÈÄíÂΩí Á∫øÁ¥¢ÂåñÂè≥Â≠êÊ†ë
        InThread(p->rchild, pre);
    }
}

//Â§ÑÁêÜÊ†πËäÇÁÇπ
void visit(ThreadTree &p, ThreadTree &pre)
{

    if (p->lchild == NULL)
    {
        p->lchild = pre;
        p->ltag = 1;
    }

    if (pre != NULL && pre->rchild == NULL)
    {
        pre->rchild = p;
        pre->tag = 1;
    }
    pre = p;
}

void CreateInThread(ThreadTree T)
{
    ThreadTree pre = NULL;
    if (T != NULL) //ÈùûÁ©∫‰∫åÂèâÊ†ë, Á∫øÁ¥¢Âåñ
    {
        InThread(T, pre);   //Á∫øÁ¥¢Âåñ‰∫åÂèâÊ†ë
        if(pre->rchild == NULL); //Â§ÑÁêÜÈÅçÂéÜÁöÑÊúÄÂêé‰∏Ä‰∏™ÁªìÁÇπ
            pre->tag = 1;
    }
}

```

## 3.‰∏≠Â∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ëÁöÑÈÅçÂéÜ

- ÈÅçÂéÜ‰∏≠Â∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ë
- ÁÆóÊ≥ïÊÄùÊÉ≥
    1. ‰ª§Ê†ëT‰∏∫Á¨¨‰∏Ä‰∏™ÁªìÁÇπ, ËÆøÈóÆ
    2. ‰æùÊ¨°ÊâæÂêéÁªßÁªìÁÇπ
       1. Ëã•Â∑≤Ë¢´Á∫øÁ¥¢Âåñ, Áõ¥Êé•ËøîÂõûÂêéÁªß
       2. Ëã•Êú™Ë¢´Á∫øÁ¥¢Âåñ, ËøîÂõûÂè≥Â≠êÊ†ë‰∏≠ÊúÄÂ∑¶‰∏ãÁªìÁÇπ(Âç≥ÂêéÁªß)

```c
//ÊâæÂà∞‰ª•P‰∏∫Ê†πÁöÑÂ≠êÊ†ë‰∏≠ÔºåÁ¨¨‰∏Ä‰∏™Ë¢´‰∏≠Â∫èÈÅçÂéÜÁöÑÁªìÁÇπ
ThreadNode *Firstnode(ThreadNode *p)
{
    //==0Êó∂ËØ¥ÊòéËØ•ËäÇÁÇπÂ∑≤Êó†Â∑¶Â≠©Â≠ê
    //Âæ™ÁéØÊâæÂà∞ÊúÄÂ∑¶‰∏ãÁªìÁÇπ(‰∏ç‰∏ÄÂÆöÊòØÂè∂ÁªìÁÇπ)
    while (p->ltag == 0)
        p = p->lchild;
    return p;
}

//Âú®‰∏≠Â∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ë‰∏≠ÊâæÂà∞ÁªìÁÇπpÁöÑÂêéÁªßÁªìÁÇπ
ThreadNode *Nextnode(ThreadNode *p)
{
    //Âè≥Â≠êÊ†ëÊúâÁªìÁÇπ
    if (p->rtag == 0)
        return Firstnode(p->rchild);
    else
        return p->rchild; // rtag==1Áõ¥Êé•ËøîÂõûÂêéÁªßÁ∫øÁ¥¢
}

void Inorder(ThreadNode *T)
{
    for (ThreadNode *p = Firstnode(T); p != NULL; p = Nextnode(p))
        visit(p);
}
```

Á©∫Èó¥Â§çÊùÇÂ∫¶O(1)

- ÈÄÜÂêëÈÅçÂéÜÁ∫øÁ¥¢‰∫åÂèâÊ†ë

```c
//ÊâæÂà∞‰ª•P‰∏∫Ê†πÁöÑÂ≠êÊ†ë‰∏≠ÔºåÊúÄÂêé‰∏Ä‰∏™Ë¢´ÈÅçÂéÜÁöÑÁªìÁÇπ
ThreadNode *LastNode(ThreadNode *p)
{
    //Âæ™ÁéØÊâæÂà∞Â∑¶ËäÇÁÇπÊúÄÂè≥‰∏ãÁªìÁÇπ(‰∏ç‰∏ÄÂÆöÊòØÂè∂ÁªìÁÇπ)
    while (p->ltag == 0)
        p = p->rchild;
    return p;
}

//Âú®‰∏≠Â∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ë‰∏≠ÊâæÂà∞ÁªìÁÇπpÁöÑÂêéÁªßÁªìÁÇπ
ThreadNode *Nextnode(ThreadNode *p)
{
    //ÊúâÂ∑¶ËäÇÁÇπ
    if (p->rtag == 0)
        return LastNode(p->lchild);
    else
        return p->lchild; // ltag==1Áõ¥Êé•ËøîÂõûÂâçÈ©±Á∫øÁ¥¢
}

//ÂØπ‰∏≠Â∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ëËøõË°åÈÄÜÂêë‰∏≠Â∫èÈÅçÂéÜ
void RevInorder(ThreadNode *T)
{
    for (ThreadNode *p = LastNode(T); p != NULL; p = Nextnode(p))
        visit(p);
}
```

- ÂÖàÂ∫è‰∏çËÉΩÊâæÂÖàÈ©±,ÂêéÂ∫è‰∏çËÉΩÊâæÂêéÁªß

|--|‰∏≠Â∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ë|ÂÖàÂ∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ë|ÂêéÂ∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ë
|-|--|--|--|
ÊâæÂâçÈ©±|‚àö|√ó|‚àö
ÊâæÂêéÁªß|‚àö|‚àö|√ó

‰∫åËÄÖÊÉ≥Ë¶ÅÂÆûÁé∞ÁöÜË¶ÅÂèå‰∫≤ÁªìÁÇπüëÜ

## 4.ÂÖàÂ∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ëÂíåÂêéÂ∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ëÁöÑÊûÑÈÄ†

- ÂÖàÂ∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ë

1. ËÆøÈóÆÂ∑¶ËäÇÁÇπÊó∂, Áî±‰∫éÂÖàÂ∫èËÆøÈóÆÈ°∫Â∫èÊòØ ‰∏≠Â∑¶Âè≥
   1. Ëã•Â∑¶ÁªìÁÇπ‰∏∫Á©∫, ÂàôÊåáÂêëÂ∑¶ËäÇÁÇπÁöÑÁà∂ËäÇÁÇπ
   2. ËÄåÂêéÂºÄÂßãËÆøÈóÆÂ∑¶ËäÇÁÇπÁöÑÂ∑¶Â≠êÊ†ë, ‰ªéËÄåÈÄ†ÊàêÂæ™ÁéØÈÄíÂΩí
2. ÊâÄ‰ª•ÈúÄË¶ÅÂÖàÂà§Êñ≠Â∑¶ËäÇÁÇπÊòØÂê¶ÊòØÁ∫øÁ¥¢

```c
void PreThread(ThreadTree &p, ThreadTree &pre)
{
    if (p != NULL)
    {
        //Â§ÑÁêÜÊ†πËäÇÁÇπ
        visit(p, pre);

        //Á∫øÁ¥¢ÂåñÂ∑¶Â≠êÊ†ë Âà§Êñ≠==0Èò≤Ê≠¢ÈÄíÂΩí
        if (T->ltag == 0)
            PreThread(p->lchild, pre);

        //ÈÄíÂΩí Á∫øÁ¥¢ÂåñÂè≥Â≠êÊ†ë
        PreThread(p->rchild, pre);
    }
}

//Â§ÑÁêÜÊ†πËäÇÁÇπ
void visit(ThreadTree &p, ThreadTree &pre)
{

    if (p->lchild == NULL)
    {
        p->lchild = pre;
        p->ltag = 1;
    }

    if (pre != NULL && pre->rchild == NULL)
    {
        pre->rchild = p;
        pre->tag = 1;
    }
    pre = p;
}

void CreatePreThread(ThreadTree T)
{
    ThreadTree pre = NULL;
    if (T != NULL) //ÈùûÁ©∫‰∫åÂèâÊ†ë, Á∫øÁ¥¢Âåñ
    {
        PreThread(T, pre);  //Á∫øÁ¥¢Âåñ‰∫åÂèâÊ†ë
        if(pre->rchild == NULL); //Â§ÑÁêÜÈÅçÂéÜÁöÑÊúÄÂêé‰∏Ä‰∏™ÁªìÁÇπ
            pre->tag = 1;
    }
}
```

- ÂêéÂ∫èÁ∫øÁ¥¢‰∫åÂèâÊ†ë

```c
void PostThread(ThreadTree &p, ThreadTree &pre)
{
    if (p != NULL)
    {
        //Â§ÑÁêÜÊ†πËäÇÁÇπ
        visit(p, pre);

        //ÈÄíÂΩí Á∫øÁ¥¢ÂåñÂ∑¶Â≠êÊ†ë
        PostThread(p->lchild, pre);

        //ÈÄíÂΩí Á∫øÁ¥¢ÂåñÂè≥Â≠êÊ†ë
        PostThread(p->rchild, pre);
    }
}

//Â§ÑÁêÜÊ†πËäÇÁÇπ
void visit(ThreadTree &p, ThreadTree &pre)
{

    if (p->lchild == NULL)
    {
        p->lchild = pre;
        p->ltag = 1;
    }

    if (pre != NULL && pre->rchild == NULL)
    {
        pre->rchild = p;
        pre->tag = 1;
    }
    pre = p;
}

void CreatePostThread(ThreadTree T)
{
    ThreadTree pre = NULL;
    if (T != NULL) //ÈùûÁ©∫‰∫åÂèâÊ†ë, Á∫øÁ¥¢Âåñ
    {
        PostThread(T, pre); //Á∫øÁ¥¢Âåñ‰∫åÂèâÊ†ë
        if(pre->rchild == NULL); //Â§ÑÁêÜÈÅçÂéÜÁöÑÊúÄÂêé‰∏Ä‰∏™ÁªìÁÇπ
            pre->tag = 1;
    }
}
```

### Â∫îÁî®È¢ò ÈùûÁúüÈ¢òÊú™ÂÅö

‚≠ê‚≠ê‚≠ê‚≠ê

06 11 15

‚≠ê‚≠ê‚≠ê

04 ![20220816224736](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220816224736.png)

Â∫îÁî®È¢òÂÅöÂà∞Á¨¨‰∫î

- 19 wplÊ±áÊÄª,Ê≥®ÊÑèÁúãÈ¢ò![20220827013606](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220827013606.png)

    ```C
    typedef struct BiTNode
    {
        int weight;
        struct BiTnode *lchild, *rchild;
    } BiTNode, *Btree;

    int WPL(BiTNode root)
    {
        return wpl_PreOder(root, 0);
    }

    int wpl_PreOder(BiTNode root, int deep)
    {
        static int wpl = 0;
        if (root->lchild == NULL && root->rchild == NULL) //Âè∂Â≠êÁªìÁÇπ,Á¥ØËÆ°wpl
            wpl+=deep*root->weight;
        if (root->lchild != NULL)
            wpl_PreOder(root->lchild, deep + 1);//Ëã•Â∑¶Â≠êÊ†ë‰∏çÁ©∫, ÂØπÂ∑¶Â≠êÊ†ëËøõË°åÈÅçÂéÜ
        if (root->rchild != NULL)
            wpl_PreOder(root->rchild, deep + 1);
        return wpl;
    }
    ```

- 10 ![20220827230311](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220827230311.png)

  1. Ê≥®ÊÑèÊúÄÂêéË¶ÅËøîÂõûÂ≠óÁ¨¶

    ```c
    ElemType preOrderK(BTree T, int k)
    {
        static int number = 1;
        Elemtype ch;
        if (b == NULL)
            return "#";

        if (number == k)
            return T->data;
        number++;
        ch = preOrderK(T->lchild);
        if (ch != '#')
            return ch;
        ch = preOrderK(T->rchild);
        return ch;
    }
    ```

‚≠ê‚≠ê

- 20 ‰∏≠Â∫èÈÅçÂéÜÁöÑÂ∫îÁî®![20220827021621](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220827021621.png)

    ```c
    void BtreeToE(BiTree root)
    {
        BtreeToExp(root, 0);
    }

    void BtreeToExp(BiTree T, int deep)
    {
        if (T == NULL)
            return;
        else if (T->rchild == NULL && T->lchild == NULL)//Ëã•‰∏∫Âè∂ÁªìÁÇπ
        {
            cout << T->data;
        }
        else
        {
            if (deep > 1)
                cout << "(";
            BtreeToExp(T->lchild);
            cout << T->data;
            BtreeToExp(T->rchild);
            if (deep > 1)
                cout << ")";
        }
    }
    ```

- 05 ![20220819224423](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220819224423.png)

    ```c
    Elemtype com_ancester(BTree T[], int i, int j)
    {
        if (T[i] != '#' && T[j] != '#') //‰∏§‰∏™ÁªìÁÇπ‰∏ç‰∏∫Á©∫
        {
            while (i != j)
            {
                if (i > j)
                    i = i / 2;
                if (j > i)
                    j = j / 2;
            }
            return T[i];
        }
    }
    ```

- 07 ![20220827215207](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220827215207.png)

    ```c
    bool Iscomplete(Bitree T)
    {
        if (!T)
        {
            return 1;
        }
        InitQueue(Q);
        EnQueue(Q, T);
        while (!isEmpty(Q))
        {
            DeQueue(Q, p);
            if (p)
            { //ÁªìÁÇπÈùûÁ©∫, Â∞ÜÂÖ∂Â∑¶Âè≥Â≠êÊ†ëÂÖ•ÈòüÂàó
                EnQueue(Q, p->lchild);
                EnQueue(Q, p->rchild);
            }
            else
                while (!isEmpty(Q))
                {
                    DeQueue(Q, p);
                    if (p)  //ÁªìÁÇπÈùûÁ©∫, Âàô‰∫åÂèâÊ†ë‰∏∫ÈùûÂÆåÂÖ®‰∫åÂèâÊ†ë
                    return 0; 
                }
        }
        return 1;
    }
    ```

- 08![20220827220614](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220827220614.png)

    ```c
    //ÁªüËÆ°ÂèåÂàÜÊîØÁªìÁÇπ‰∏™Êï∞(LogÊ≥ï)
    DsonNodes(BTree T)
    {
        static dct = 0;
        if (T == NULL)
            return 0;
        if (T->lchild != NULL && T->rchild != NULL)
            dct++;
        DsonNodes(T->lchild);
        DsonNodes(T->rchild);
        return dct;
    }

        //ÁªüËÆ°ÂèåÂàÜÊîØÁªìÁÇπ‰∏™Êï∞(ÁéãÈÅìÊ≥ï)
    DsonNodes(BTree T)
    {
        if (T == NULL)
            return 0;
        else if (T->lchild!=NULL && T->rchild!=NULL)//ÂèåÂàÜÊîØÁªìÁÇπ
            return DsonNodes(T->lchild)+DsonNodes(T->rchild)+1;
        else
            return DsonNodes(T->lchild)+DsonNodes(T->rchild);  
    }
    ```

‚≠ê

- 14

```c
int maxWinth(BTree T)
{
   p = preorder(T, 0);
   width = max_element(p);
}

int *preOrder(BTree T, int deep)
{
   static widNum[T.height];
   if (T == NULL)
      return;
   else
   {
      widNum[deep]++;
      preOrder(T->lchild, deep + 1);
      preOrder(T->rchild, deep + 1);
   }
   return widNum;
}
```
