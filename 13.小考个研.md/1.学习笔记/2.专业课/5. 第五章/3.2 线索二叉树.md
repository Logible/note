# çº¿ç´¢äºŒå‰æ ‘

- [çº¿ç´¢äºŒå‰æ ‘](#çº¿ç´¢äºŒå‰æ ‘)
  - [1.çº¿ç´¢äºŒå‰æ ‘çš„åŸºæœ¬æ¦‚å¿µ](#1çº¿ç´¢äºŒå‰æ ‘çš„åŸºæœ¬æ¦‚å¿µ)
  - [2.ä¸­åºçº¿ç´¢äºŒå‰æ ‘çš„æž„é€ ](#2ä¸­åºçº¿ç´¢äºŒå‰æ ‘çš„æž„é€ )
  - [3.ä¸­åºçº¿ç´¢äºŒå‰æ ‘çš„éåŽ†](#3ä¸­åºçº¿ç´¢äºŒå‰æ ‘çš„éåŽ†)
  - [4.å…ˆåºçº¿ç´¢äºŒå‰æ ‘å’ŒåŽåºçº¿ç´¢äºŒå‰æ ‘çš„æž„é€ ](#4å…ˆåºçº¿ç´¢äºŒå‰æ ‘å’ŒåŽåºçº¿ç´¢äºŒå‰æ ‘çš„æž„é€ )
    - [åº”ç”¨é¢˜ éžçœŸé¢˜æœªåš](#åº”ç”¨é¢˜-éžçœŸé¢˜æœªåš)

## 1.çº¿ç´¢äºŒå‰æ ‘çš„åŸºæœ¬æ¦‚å¿µ

1. ç”±æ¥
   1. åœ¨å«nä¸ªç»“ç‚¹çš„äºŒå‰æ ‘ä¸­ï¼Œæœ‰n+1ä¸ªç©ºæŒ‡é’ˆ, åˆ©ç”¨è¿™äº›ç©ºæŒ‡é’ˆæ¥å­˜æ”¾æŒ‡å‘å…¶å‰é©±æˆ–åŽç»§çš„æŒ‡é’ˆ, è¿™æ ·å°±å¯ä»¥åƒéåŽ†å•é“¾è¡¨é‚£æ ·æ–¹ä¾¿åœ°éåŽ†äºŒå‰æ ‘

2. è§„å®š
   1. è‹¥æ— å·¦å­æ ‘ï¼Œä»¤lchildæŒ‡å‘å…¶å‰é©±ç»“ç‚¹;
   2. è‹¥æ— å³å­æ ‘ï¼Œä»¤rchildæŒ‡å‘å…¶åŽç»§ç»“ç‚¹;
   3. æ­¤å¤–
      1. è¿˜éœ€å¢žåŠ ä¸¤ä¸ªæ ‡å¿—åŸŸæ ‡è¯†æŒ‡é’ˆåŸŸæ˜¯:
         1. æŒ‡å‘å·¦(å³)å­©å­
         2. è¿˜æ˜¯æŒ‡å‘å‰é©±(åŽç»§)

3. ç»“ç‚¹ç»“æž„

    |lchild|ltag|data|rtag|rchild|
    |--|--|--|--|--|
    |

    $$ltag\begin{cases}
    0 & lchildåŸŸæŒ‡ç¤ºç»“ç‚¹çš„å·¦å­©å­\\
    1 & lchildåŸŸæŒ‡ç¤ºç»“ç‚¹çš„å‰é©±
    \end{cases}$$

    $$rtag\begin{cases}
    0 & rchildåŸŸæŒ‡ç¤ºç»“ç‚¹çš„å³å­©å­\\
    1 & rchildåŸŸæŒ‡ç¤ºç»“ç‚¹çš„åŽç»§
    \end{cases}$$

4. å®šä¹‰
   1. çº¿ç´¢é“¾è¡¨
      1. ä»¥è¿™ç§ç»“ç‚¹ç»“æž„æž„æˆçš„**äºŒå‰é“¾è¡¨**ä½œä¸ºäºŒå‰æ ‘çš„å­˜å‚¨ç»“æž„;
   2. çº¿ç´¢
      1. æŒ‡å‘ç»“ç‚¹å‰é©±å’ŒåŽç»§çš„æŒ‡é’ˆ;
   3. çº¿ç´¢äºŒå‰æ ‘
      1. åŠ ä¸Šçº¿ç´¢çš„äºŒå‰æ ‘;

5. æ‰‹åŠ¨çº¿ç´¢
   1. æ ‡å‡ºç»“ç‚¹è®¿é—®é¡ºåº
   2. æŒ‰ç…§ç©ºå·¦ç»“ç‚¹æŒ‡å‘ç»“ç‚¹çš„å‰é©±
   3. ç©ºå³ç»“ç‚¹æŒ‡å‘ç»“ç‚¹çš„åŽç»§
   4. é‡å¤23, å®Œæˆæž„é€ çº¿ç´¢äºŒå‰æ ‘

## 2.ä¸­åºçº¿ç´¢äºŒå‰æ ‘çš„æž„é€ 

1. çº¿ç´¢åŒ–çš„å®žè´¨
   1. å°†äºŒå‰é“¾è¡¨ä¸­çš„**ç©ºæŒ‡é’ˆ**æ”¹ä¸ºæŒ‡å‘**å‰é©±æˆ–åŽç»§çš„çº¿ç´¢**ã€‚è€Œå‰é©±æˆ–åŽç»§çš„ä¿¡æ¯åªæœ‰åœ¨éåŽ†æ—¶æ‰èƒ½å¾—åˆ°ï¼Œå› æ­¤çº¿ç´¢åŒ–çš„å®žè´¨å°±æ˜¯**éåŽ†ä¸€æ¬¡äºŒå‰æ ‘**;

2. ç®—æ³•æ€æƒ³
   1. é™„è®¾æŒ‡é’ˆ**pre**æŒ‡å‘åˆšåˆšè®¿é—®è¿‡çš„ç»“ç‚¹
   2. æŒ‡é’ˆpæŒ‡å‘æ­£åœ¨è®¿é—®çš„ç»“ç‚¹ï¼Œå³preæŒ‡å‘pçš„å‰é©±
   3. åœ¨ä¸­åºéåŽ†çš„è¿‡ç¨‹ä¸­
      1. æ£€æŸ¥pçš„å·¦æŒ‡é’ˆæ˜¯å¦ä¸ºç©º
         1. è‹¥ä¸ºç©ºå°±å°†å®ƒæŒ‡å‘pre
      2. æ£€æŸ¥preçš„å³æŒ‡é’ˆæ˜¯å¦ä¸ºç©º
         1. è‹¥ä¸ºç©ºå°±å°†å®ƒæŒ‡å‘p

```c
void InThread(ThreadTree &p, ThreadTree &pre)
{
    if (p != NULL)
    {
        //é€’å½’ çº¿ç´¢åŒ–å·¦å­æ ‘
        InThread(p->lchild, pre);

        //å¤„ç†æ ¹èŠ‚ç‚¹
        visit(p, pre);

        //é€’å½’ çº¿ç´¢åŒ–å³å­æ ‘
        InThread(p->rchild, pre);
    }
}

//å¤„ç†æ ¹èŠ‚ç‚¹
void visit(ThreadTree &p, ThreadTree &pre)
{

    if (p->lchild == NULL)
    {
        p->lchild = pre;
        p->ltag = 1;
    }

    if (pre != NULL && pre->rchild == NULL)
    {
        pre->rchild = p;
        pre->tag = 1;
    }
    pre = p;
}

void CreateInThread(ThreadTree T)
{
    ThreadTree pre = NULL;
    if (T != NULL) //éžç©ºäºŒå‰æ ‘, çº¿ç´¢åŒ–
    {
        InThread(T, pre);   //çº¿ç´¢åŒ–äºŒå‰æ ‘
        if(pre->rchild == NULL); //å¤„ç†éåŽ†çš„æœ€åŽä¸€ä¸ªç»“ç‚¹
            pre->tag = 1;
    }
}

```

## 3.ä¸­åºçº¿ç´¢äºŒå‰æ ‘çš„éåŽ†

- éåŽ†ä¸­åºçº¿ç´¢äºŒå‰æ ‘
- ç®—æ³•æ€æƒ³
    1. ä»¤æ ‘Tä¸ºç¬¬ä¸€ä¸ªç»“ç‚¹, è®¿é—®
    2. ä¾æ¬¡æ‰¾åŽç»§ç»“ç‚¹
       1. è‹¥å·²è¢«çº¿ç´¢åŒ–, ç›´æŽ¥è¿”å›žåŽç»§
       2. è‹¥æœªè¢«çº¿ç´¢åŒ–, è¿”å›žå³å­æ ‘ä¸­æœ€å·¦ä¸‹ç»“ç‚¹(å³åŽç»§)

```c
//æ‰¾åˆ°ä»¥Pä¸ºæ ¹çš„å­æ ‘ä¸­ï¼Œç¬¬ä¸€ä¸ªè¢«ä¸­åºéåŽ†çš„ç»“ç‚¹
ThreadNode *Firstnode(ThreadNode *p)
{
    //==0æ—¶è¯´æ˜Žè¯¥èŠ‚ç‚¹å·²æ— å·¦å­©å­
    //å¾ªçŽ¯æ‰¾åˆ°æœ€å·¦ä¸‹ç»“ç‚¹(ä¸ä¸€å®šæ˜¯å¶ç»“ç‚¹)
    while (p->ltag == 0)
        p = p->lchild;
    return p;
}

//åœ¨ä¸­åºçº¿ç´¢äºŒå‰æ ‘ä¸­æ‰¾åˆ°ç»“ç‚¹pçš„åŽç»§ç»“ç‚¹
ThreadNode *Nextnode(ThreadNode *p)
{
    //å³å­æ ‘æœ‰ç»“ç‚¹
    if (p->rtag == 0)
        return Firstnode(p->rchild);
    else
        return p->rchild; // rtag==1ç›´æŽ¥è¿”å›žåŽç»§çº¿ç´¢
}

void Inorder(ThreadNode *T)
{
    for (ThreadNode *p = Firstnode(T); p != NULL; p = Nextnode(p))
        visit(p);
}
```

ç©ºé—´å¤æ‚åº¦O(1)

- é€†å‘éåŽ†çº¿ç´¢äºŒå‰æ ‘

```c
//æ‰¾åˆ°ä»¥Pä¸ºæ ¹çš„å­æ ‘ä¸­ï¼Œæœ€åŽä¸€ä¸ªè¢«éåŽ†çš„ç»“ç‚¹
ThreadNode *LastNode(ThreadNode *p)
{
    //å¾ªçŽ¯æ‰¾åˆ°å·¦èŠ‚ç‚¹æœ€å³ä¸‹ç»“ç‚¹(ä¸ä¸€å®šæ˜¯å¶ç»“ç‚¹)
    while (p->ltag == 0)
        p = p->rchild;
    return p;
}

//åœ¨ä¸­åºçº¿ç´¢äºŒå‰æ ‘ä¸­æ‰¾åˆ°ç»“ç‚¹pçš„åŽç»§ç»“ç‚¹
ThreadNode *Nextnode(ThreadNode *p)
{
    //æœ‰å·¦èŠ‚ç‚¹
    if (p->rtag == 0)
        return LastNode(p->lchild);
    else
        return p->lchild; // ltag==1ç›´æŽ¥è¿”å›žå‰é©±çº¿ç´¢
}

//å¯¹ä¸­åºçº¿ç´¢äºŒå‰æ ‘è¿›è¡Œé€†å‘ä¸­åºéåŽ†
void RevInorder(ThreadNode *T)
{
    for (ThreadNode *p = LastNode(T); p != NULL; p = Nextnode(p))
        visit(p);
}
```

- å…ˆåºä¸èƒ½æ‰¾å…ˆé©±,åŽåºä¸èƒ½æ‰¾åŽç»§

|--|ä¸­åºçº¿ç´¢äºŒå‰æ ‘|å…ˆåºçº¿ç´¢äºŒå‰æ ‘|åŽåºçº¿ç´¢äºŒå‰æ ‘
|-|--|--|--|
æ‰¾å‰é©±|âˆš|Ã—|âˆš
æ‰¾åŽç»§|âˆš|âˆš|Ã—

äºŒè€…æƒ³è¦å®žçŽ°çš†è¦åŒäº²ç»“ç‚¹ðŸ‘†

## 4.å…ˆåºçº¿ç´¢äºŒå‰æ ‘å’ŒåŽåºçº¿ç´¢äºŒå‰æ ‘çš„æž„é€ 

- å…ˆåºçº¿ç´¢äºŒå‰æ ‘

1. è®¿é—®å·¦èŠ‚ç‚¹æ—¶, ç”±äºŽå…ˆåºè®¿é—®é¡ºåºæ˜¯ ä¸­å·¦å³
   1. è‹¥å·¦ç»“ç‚¹ä¸ºç©º, åˆ™æŒ‡å‘å·¦èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹
   2. è€ŒåŽå¼€å§‹è®¿é—®å·¦èŠ‚ç‚¹çš„å·¦å­æ ‘, ä»Žè€Œé€ æˆå¾ªçŽ¯é€’å½’
2. æ‰€ä»¥éœ€è¦å…ˆåˆ¤æ–­å·¦èŠ‚ç‚¹æ˜¯å¦æ˜¯çº¿ç´¢

```c
void PreThread(ThreadTree &p, ThreadTree &pre)
{
    if (p != NULL)
    {
        //å¤„ç†æ ¹èŠ‚ç‚¹
        visit(p, pre);

        //çº¿ç´¢åŒ–å·¦å­æ ‘ åˆ¤æ–­==0é˜²æ­¢é€’å½’
        if (T->ltag == 0)
            PreThread(p->lchild, pre);

        //é€’å½’ çº¿ç´¢åŒ–å³å­æ ‘
        PreThread(p->rchild, pre);
    }
}

//å¤„ç†æ ¹èŠ‚ç‚¹
void visit(ThreadTree &p, ThreadTree &pre)
{

    if (p->lchild == NULL)
    {
        p->lchild = pre;
        p->ltag = 1;
    }

    if (pre != NULL && pre->rchild == NULL)
    {
        pre->rchild = p;
        pre->tag = 1;
    }
    pre = p;
}

void CreatePreThread(ThreadTree T)
{
    ThreadTree pre = NULL;
    if (T != NULL) //éžç©ºäºŒå‰æ ‘, çº¿ç´¢åŒ–
    {
        PreThread(T, pre);  //çº¿ç´¢åŒ–äºŒå‰æ ‘
        if(pre->rchild == NULL); //å¤„ç†éåŽ†çš„æœ€åŽä¸€ä¸ªç»“ç‚¹
            pre->tag = 1;
    }
}
```

- åŽåºçº¿ç´¢äºŒå‰æ ‘

```c
void PostThread(ThreadTree &p, ThreadTree &pre)
{
    if (p != NULL)
    {
        //å¤„ç†æ ¹èŠ‚ç‚¹
        visit(p, pre);

        //é€’å½’ çº¿ç´¢åŒ–å·¦å­æ ‘
        PostThread(p->lchild, pre);

        //é€’å½’ çº¿ç´¢åŒ–å³å­æ ‘
        PostThread(p->rchild, pre);
    }
}

//å¤„ç†æ ¹èŠ‚ç‚¹
void visit(ThreadTree &p, ThreadTree &pre)
{

    if (p->lchild == NULL)
    {
        p->lchild = pre;
        p->ltag = 1;
    }

    if (pre != NULL && pre->rchild == NULL)
    {
        pre->rchild = p;
        pre->tag = 1;
    }
    pre = p;
}

void CreatePostThread(ThreadTree T)
{
    ThreadTree pre = NULL;
    if (T != NULL) //éžç©ºäºŒå‰æ ‘, çº¿ç´¢åŒ–
    {
        PostThread(T, pre); //çº¿ç´¢åŒ–äºŒå‰æ ‘
        if(pre->rchild == NULL); //å¤„ç†éåŽ†çš„æœ€åŽä¸€ä¸ªç»“ç‚¹
            pre->tag = 1;
    }
}
```

### åº”ç”¨é¢˜ éžçœŸé¢˜æœªåš

â­â­â­â­

06 11

â­â­â­

04 ![20220816224736](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220816224736.png)

åº”ç”¨é¢˜åšåˆ°ç¬¬äº”

- 19 wplæ±‡æ€»,æ³¨æ„çœ‹é¢˜![20220827013606](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220827013606.png)

    ```C
    typedef struct BiTNode
    {
    int weight;
    struct BiTnode *lchild, *rchild;
    } BiTNode, *Btree;

    int WPL(BiTree bott)
    {
    return wpl_PreOder(root, 0)
    }

    int wpl_PreOder(BiTNode root, int deep)
    {
    static int wpl = 0;
    if (root->lchild == NULL && root->rchild == NULL) //å¶å­ç»“ç‚¹,ç´¯è®¡wpl
            wpl+=deep*root->weight;
    if (root->lchild != NULL)
        wpl_PreOder(root->lchild, deep + 1);//è‹¥å·¦å­æ ‘ä¸ç©º, å¯¹å·¦å­æ ‘è¿›è¡ŒéåŽ†
    if (root->rchild != NULL)
        wpl_PreOder(root->rchild, deep + 1);
    return wpl;
    }
    ```

- 10 ![20220827230311](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220827230311.png)

  1. æ³¨æ„æœ€åŽè¦è¿”å›žå­—ç¬¦

    ```c
    ElemType preOrderK(BTree T, int k)
    {
    static number = 1;
    Elemtype ch;
    if (b == NULL)
        return "#";

    if (number == k)
        return T->data;

    ch = preOrderK(T->lchild);
    if (ch != '#')
        return ch;
    ch = preOrderK(T->rchild);
    return ch;
    }
    ```

â­â­

- 20 ä¸­åºéåŽ†çš„åº”ç”¨![20220827021621](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220827021621.png)

    ```c
    void BtreeToE(BiTree root)
    {
    BtreeToExp(root, 0);
    }

    void BtreeToExp(BiTree T, int deep)
    {
    if (T == NULL)
        return;
    else if (T->rchild != = NULL && T->lchild !== NULL)
    {
        cout << T->data;
    }
    else
    {
        if (deep > 1)
            cout << "(";
        BtreeToExp(T->lchild);
        cout << T->data;
        BtreeToExp(T->rchild);
        if (deep > 1)
            cout << "(";
    }
    }
    ```

- 05 ![20220819224423](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220819224423.png)

    ```c
    Elemtype com_ancester(BTree T[], int i, int j)
    {
    if (T[i] != '#' && T[j] != '#') //ä¸¤ä¸ªç»“ç‚¹ä¸ä¸ºç©º
    {
        while (i != j)
        {
            if (i > j)
                i = i / 2;
            if (j > i)
                j = j / 2;
        }
        return T[i];
    }
    }
    ```

- 07 ![20220827215207](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220827215207.png)

    ```c
    bool Iscomplete(Bitree T)
    {
    if (!T)
    {
        return 1;
    }
    InitQueue(Q);
    EnQueue(Q, T);
    while (!isEmpty(Q))
    {
        DeQueue(Q, p);
        if (p)
        { //ç»“ç‚¹éžç©º, å°†å…¶å·¦å³å­æ ‘å…¥é˜Ÿåˆ—
            EnQueue(Q, p->lchild);
            EnQueue(Q, p->rchild);
        }
        else

            while (!isEmpty(Q))
            {
                DeQueue(Q, p);
                if (p)
                return 0; //ç»“ç‚¹éžç©º, åˆ™äºŒå‰æ ‘ä¸ºéžå®Œå…¨äºŒå‰æ ‘
            }
    }
    return 1;
    }
    ```

- 08![20220827220614](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220827220614.png)

    ```c
    //ç»Ÿè®¡åŒåˆ†æ”¯ç»“ç‚¹ä¸ªæ•°(Logæ³•)
    DsonNodes(BTree T)
    {
    static dct = 0;
    if (T == NULL)
        return;
    if (T->lchild != NULL && T->rchild != NULL)
        dct++;
    DsonNodes(T->lchild);
    DsonNodes(T->rchild);
    return dct;
    }

    //ç»Ÿè®¡åŒåˆ†æ”¯ç»“ç‚¹ä¸ªæ•°(çŽ‹é“æ³•)
    DsonNodes(BTree T)
    {
    if (T == NULL)
        return 0;
    else if (T->lchild!=NULL && T->rchild!=NULL)//åŒåˆ†æ”¯ç»“ç‚¹
        return DsonNodes(T->lchild)+DsonNodes(T->rchild)+1;
    else
        return DsonNodes(T->lchild)+DsonNodes(T->rchild);  
    }
    ```
