# 二叉树的概念

- [二叉树的概念](#二叉树的概念)
  - [5.2.1 二叉树的定义及其主要特性](#521-二叉树的定义及其主要特性)
    - [1.二叉树的定义](#1二叉树的定义)
    - [2.几个特殊的二叉树](#2几个特殊的二叉树)
    - [3.二叉树的性质](#3二叉树的性质)
  - [5.2.2二叉树的存储结构](#522二叉树的存储结构)
    - [1.顺序存储结构](#1顺序存储结构)
    - [2.链式存储结构](#2链式存储结构)
  - [习(done)](#习done)

## 5.2.1 二叉树的定义及其主要特性

### 1.二叉树的定义

1. 二叉树的定义
   1. 是另一种树形结构，其特点是每个结点**至多只有两棵子树**(即二叉树中不存在度大于2的结点)，并且二叉树的子树有**左右之分**，其次序不能任意颠倒

2. 二叉树也以递归的形式定义, 二叉树是$n(n>0)$个结点的有限集合
   1. 或者为**空**二叉树，即$n=0$;
   2. 或者由一个根结点和两个互不相交的被称为根的左子树和右子树组成。左子树和右子树**又分别是一棵二叉树**

3. 二叉树与度为2的有序树的区别
   1. 可否为空
      1. 度为2的树至少有3个结点
      2. 而二叉树可以为空
   2. 左右次序
      1. 度为2的有序树的孩子的左右次序是**相对**于另一孩子而言的，若某个结点只有一个孩子,则这个孩子就无须区分其左右次序
      2. 而二叉树无论其孩子数是否为2,均需确定其左右次序，即二叉树的结点次序不是相对于另一结点而言，而是**确定**的

### 2.几个特殊的二叉树

1. 满二叉树
   - 满二叉树![满二叉树](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220810210349.png)
   1. 定义
      1. 一棵高度为h，且含有$2^h-1$个结点的二叉树称为满二叉树
   2. 编号, 可以对满二叉树按层序编号:
      1. 约定编号从根结点(根结点编号为1)起，自上而下，自左向右。这样，每个结点对应一个编号
         1. 对于编号为i的结点
            1. 若有双亲，则其双亲为$\lfloor \frac{i}{2} \rfloor$;
            2. 若有左孩子，则左孩子为2i;
            3. 若有右孩子，则右孩子为2i+1;

2. 完全二叉树
   - 完全二叉树![完全二叉树](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220810211548.png)
   1. 高度为h、有n个结点的二叉树，当且仅当其每个结点都与**高度为h的满二叉树中编号为1~n的结点一一对应**时，称为完全二叉树;
      1. 若$\displaystyle i \le \lfloor \frac{n}{2} \rfloor$(最后一个结点的父节点)
         1. 则结点i为分支结点
         2. 否则为叶子结点
      2. 叶子结点只可能在**层次最大的两层上出现**
         1. 对于最大层次中的叶子结点，都依次排列在该层最左边的位置上
         2. 缺结点只能在最后一层缺
      3. **重要特征**
         1. 若有度为1的结点，则只可能有一个，且该结点只有左孩子而无右孩子
      4. 按层序编号后，一旦出现某结点(编号为i)为叶子结点或只有左孩子，则编号大于i的结点均为叶子结点
      5. 奇偶数结点区别
         1. 若n为**奇数**
            1. 则每个分支结点都有左孩子和右孩子;
         2. 若n为**偶数**
            1. 则编号最大的分支结点(编号为n/2)只有左孩子，没有右孩子
            2. 其余分支结点左、右孩子都有

3. 二叉排序树
   1. **左子树上**所有结点的的关键字均**小于**根结点的关键字;
   2. **右子树上**的所有结点的关键字均**大于**根结点的关键字;
   3. 左子树和右子树又各是一棵二叉排序树

4. 平衡二叉树
   1. 树上任一结点的左子树和右子树的**深度之差不超过1**

### 3.二叉树的性质

1. 非空二叉树上的叶子结点数等于度为2的结点数加1
   1. 即$n_0 = n_2+1$
2. 非空二叉树上第k层上至多有($k \ge 1$)
   1. $2^{k-1}$个结点
3. 高度为h的二叉树至多有($h \ge 1$)
   1. $2^{h}-1$个结点
4. 对完全二叉树按从上到下、从左到右的顺序依次编号$1,2,…,n$, 则有以下关系
   1. 左右孩子, 双亲推导同**满二叉树1.2**
   2. 结点Z所在层次(深度)为$\lceil log_{2}(n+1)\rceil$
      1. 高度h的满二叉树共有$2^{h}-1$个结点
      2. 高度h-1的满二叉树共有$2^{h-1}-1$个结点
         1. $2^{h-1}-1 < n \le 2^h -1$
         2. $2^{h-1} < n+1 \le 2^h$
         3. ${h-1} < log_2(n+1) \le h$
         4. $h =\lceil log_{2}(n+1)\rceil$
5. 具有n个(n>0)结点的完全二叉树的高度为$\lceil log_2(n+1)\rceil$ or $\lfloor log_2n \rfloor + 1$
   1. 推导第二种
      1. 高度h-1的满二叉树共有$2^{h-1}-1$个结点
         1. 高度h的完全二叉树至少有$2^{h-1}$个结点
      2. 高度h的完全二叉树至多有$2^{h}-1$个结点
         1. $2^{h-1} \le n < 2^h$
         2. ${h-1} \le log_2n < h$
         3. $h = \lfloor log_2n \rfloor +1$
6. 对于完全二叉树, 可以由结点数n推出度为0,1,2的结点个数为$n_0,n_1,n_2$
   1. 若完全二叉树有2k个结点,则
      1. $n_1=1, n_0=k, n_2=k-1$
   2. 若完全二叉树有2k-1个结点,则
      1. $n_1=0, n_0=k, n_2=k-1$

## 5.2.2二叉树的存储结构

### 1.顺序存储结构

1. 顺序存储定义
   1. 用一组地址连续的存储单元依次自上而下、自左至右存储完全二叉树上的结点元素，即将完全二叉树上编号为i的结点元素存储在一维数组下标为$i-1$的分量中

2. Suitable situation
   1. 依据二叉树的性质，**完全二叉树**和**满二叉树**采用顺序存储比较合适，树中结点的序号可以唯一地反映结点之间的逻辑关系，这样既能最大可能地节省存储空间，又能利用数组元素的下标值确定结点在二叉树中的位置，以及结点之间的关系
   2. 但对于**一般的二叉树**，为了让数组下标能反映二叉树中结点之间的逻辑关系，只能添加一些并不存在的空结点, 导致空间利用率较低;

3. Tips:
   1. 这种存储结构建议从数组下标1开始存储树中的结点，若从数组下标0开始存储，则不满足性质4的描述

### 2.链式存储结构

1. 链式存储定义
   1. 由于顺序存储的空间利用率较低，因此二叉树一般都采用链式存储结构，用链表结点来存储二叉树中的每个结点。

2. 结点结构

    |lchild|data|rchild|
    |--|--|--|
    |

3. 存储结构描述

    ```c
    typedef struct BiTNode
    {
        ElemType data;                    //数据域
        struct BiTNode * lchild, *rchild; //左、右孩子指针
    } BiTNode, *BiTree;
    ```

4. 在含有n个结点的二叉链表中，含有n + 1个空链域
   1. n个结点便有2n个指针域
   2. 并且除根结点外, 结点上方都有与之相连的边, 共为n-1条

## 习(done)

1. 完全二叉树中, 叶子结点只能在倒数两层出现

⭐=⭐

- 06 不应该是(n-1)个n2结点吗![20220811220155](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220811220155.png)

是的,但是n不确定是奇偶, 所以n2仍可能是偶数

⭐⭐⭐⭐

如果64个结点, 求第七层至多多少结点?

13 知道结点, 计算某层有至多个结点 ![20220811222911](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220811222911.png)

18 不是只有一个结点有右孩子吗? ![20220811223656](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220811223656.png)

⭐⭐⭐

04 ![20220811215634](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220811215634.png)

- 应用题

04 ![20220819223112](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220819223112.png)

满二叉树的高度不用向上取整![20220813220739](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220813220739.png)

⭐

10 某层有叶子结点, 最少结点的计算![20220811221759](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220811221759.png)

11 某层有叶子结点, 叶子结点总数![20220811223328](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220811223328.png)

20 🏀完全二叉树与满二叉树相比，只是在最下一层的右边缺少了部分叶结点![20220812021703](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220812021703.png)

23 没说完全二叉树, 故需考虑所有可能![20220812021719](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220812021719.png)

02 结点按完全二叉树层序编号的二叉树中，第i个结点的左孩子的编号为2i (×)

应用题

01 n和n0关系![20220813220258](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220813220258.png)
