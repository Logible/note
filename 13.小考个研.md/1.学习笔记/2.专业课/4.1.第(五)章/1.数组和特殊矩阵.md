# 数组和特殊矩阵

- [数组和特殊矩阵](#数组和特殊矩阵)
  - [3.4.1 数组的定义](#341-数组的定义)
  - [3.4.2 数组的存储结构](#342-数组的存储结构)
  - [3.4.3 特殊矩阵的压缩存储](#343-特殊矩阵的压缩存储)
    - [1.对称矩阵](#1对称矩阵)
    - [2.三角矩阵](#2三角矩阵)
    - [3.三对角矩阵](#3三对角矩阵)
    - [4.稀疏矩阵](#4稀疏矩阵)
  - [习题](#习题)

## 3.4.1 数组的定义

1. 数组
   1. 定义
      1. 由n(n>1)个**相同类型**的数据元素构成的**有限序列**
      2. 每个数据元素称为一个数组元素
   2. 术语
      1. 下标: 每个元素在n个线性关系中的序号
      2. 维界: 下标的取值范围

## 3.4.2 数组的存储结构

L: 每个数据单位的存储长度

- 以一维数组A[O...n-1]为例,其存储结构关系式为

    $LOC(a_i) = LOC(a_0) + i * L(0 \le z < n)$

二维数组

- 先行后列, 行下标与列下标的范围分别为[0,h1]与[0,h2],则存储结构关系式为

    $LOC(a_{i,j}) = LOC(a_{0,0}) + [i * (h_2 + 1) + j] * L$

- 先列后行, 行下标与列下标的范围分别为[0,h1]与[0,h2],则存储结构关系式为

    $LOC(a_{i,j}) = LOC(a_{0,0}) + [j * (h_1 + 1) + i] * L$

## 3.4.3 特殊矩阵的压缩存储

- 压缩存储:
  - 指为多个值相同的元素只分配一个存储空间，对零元素不分配存储空间。其目的是节省存储空间。

- 特殊矩阵:
  - 指具有许多相同矩阵元素或零元素，并且这些相同矩阵元素或零元素的分布有一定规律性的矩阵。常见的特殊矩阵有对称矩阵、上（下）三角矩阵、对角矩阵等。

- 特殊矩阵的压缩存储方法:
  - 找出特殊矩阵中值相同的矩阵元素的**分布规律**，把那些呈现规律性分布的、值相同的多个矩阵元素压缩存储到一个存储空间中

### 1.对称矩阵

1. 对称矩阵定义
   1. 对一个n阶方阵A [1...n] [1...n]中的任意一个元素$a_{i,j}$都有$a_{i,j} = a_{j,i}(1 \le i,j \le n)$

2. 存储策略
   1. 只存储主对角线 + 下三角区
   2. 按**行优先**原则将各元素存入一维数组中
   3. 数组大小:
      1. (1+n)*n/2

3. 对称矩阵下标的转换: 矩阵下标 -> 一维数组下标$(a_{i,j} \to B[k])$
   - 数组下标从0开始
   1. 行优先原则:

      $$\displaystyle K\begin{cases}
      \frac{i(i-1)}{2}+j-1 & i \ge j\\
      \frac{j(i-1)}{2}+i-1 & i < j
      \end{cases}$$

   2. 列优先原则

      $n+(n-1)+...+(n-j+2)+(i-j)$

### 2.三角矩阵

1. 三角矩阵定义
   1. 下三角矩阵
      1. 上三角区的所有元素均为同一常量
   2. 上三角矩阵
      1. 下三角区的所有元素均为同一常量

2. 下三角矩阵存储策略
   1. 只存储主对角线 + 下三角区 + 对角线上方常量
   2. 按**行优先**原则将各元素存入一维数组中
   3. 数组大小:
      1. (1+n)*n/2+1

3. 下三角矩阵下标的转换: 矩阵下标 -> 一维数组下标$(a_{i,j} \to B[k])$
   - 数组下标从0开始
   1. 行优先原则:

      $$\displaystyle K\begin{cases}
      \frac{i(i-1)}{2}+j-1 & i \ge j\\
      \frac{(1+n)*n}{2} & i < j
      \end{cases}$$

4. 上三角矩阵存储策略
   1. 只存储主对角线 + 上三角区 + 对角线下方常量
   2. 按**行优先**原则将各元素存入一维数组中
   3. 数组大小:
      1. (1+n)*n/2+1

5. 上三角矩阵下标的转换: 矩阵下标 -> 一维数组下标$(a_{i,j} \to B[k])$
   - 数组下标从0开始
   1. 行优先原则:

      $$\displaystyle K\begin{cases}
      \frac{(i-1)(2n-i+2)}{2}+(j-i) & i \le j\\
      \frac{(1+n)*n}{2} & i > j
      \end{cases}$$

### 3.三对角矩阵

1. 三对角矩阵定义
   1. 也称**带状矩阵**。对于n阶方阵A中的任一元素$a_{i,j}$，当$|i-j|>1$时，有$a_{i,j} (1<i,j<n)$

2. 存储策略
   1. 将3条对角线上的元素按行优先方式存放在一维数组B中
   2. 且$a_{1,1}$存放于B[0]中
   3. 数组大小:
      1. 3n-2

3. 三对角矩阵下标的转换: 矩阵下标 -> 一维数组下标$(a_{i,j} \to B[k])$
   1. $k=3(i-1)-1 + (j-i+1),|i-j|<1$
   2. $k=2i+j-3,|i-j|<1$

4. 第k个元素 在第几行第几列
   1. 设该元素在第i行
      1. $3(i-1)-1 \le k$
      2. $i = \lfloor (k+1)/3+1 \rfloor$
      3. $j = k-2i+3$

### 4.稀疏矩阵

1. 稀疏矩阵定义
   1. 矩阵中非零元素的个数t, 相对矩阵元素的个数s来说非常少, 即**s>>t**的矩阵

2. 存储策略
   1. 三元组法
      1. 将非零元素及其相应的行和列构成一个三元组
         1. 行标
         2. 列标
         3. 值
      2. 失去了**随机存取**特性
   2. 十字链表法
      1. ![20220805174542](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220805174542.png)

## 习题

⭐=⭐

从n行起,到j-1行/列

num = n - j + 2的含义

n=1时,n不用减一, 故j列个数为num = n-j+1, 而算a_i,j时, 是从j-1算前面列有多少个元素, 故num = n-j+2;

⭐⭐

10 第六行有7个

⭐

06 下标开始的位置

07 从前数 是从j-1列开始数

11 矩阵无0行元素

12 第几个元素
