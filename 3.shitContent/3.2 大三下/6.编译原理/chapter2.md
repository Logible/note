# chapter2

- [chapter2](#chapter2)
  - [例题](#例题)
  - [Some concept](#some-concept)
  - [文法和语言的形式定义](#文法和语言的形式定义)
  - [四种文法类型](#四种文法类型)
  - [上下文无关文法及其语法树](#上下文无关文法及其语法树)

1. 给定一个文法，求出一个语言。
   1. 1文法-求->1语言
2. 给定一个语言，设计一个文法。
   1. n文法<-设计-1语言
3. 转换的好处: 文法1->语言->文法2
4. 一个文法对应一个语言，一个语言可以有多个文法。

- 文法(4种: 0->1->2(\*)->3(\*))-越来越干戈
      - 0->1->2(语法)->3(词法)
      - 文法是否有二义性
          - 导致二义性原因：二义性通常由优先级的混乱引起的，没有明确的优先级先后顺序。
          - 举一个反例:一个句子拥有二义性，多个语法树，也就是优先级不明确
          - 消除二义性: 规定优先级即可解决。先定义级别低的，再到高的。从级别高的再回到级别低的。
      - 允许空输入
          - 需要进行额外处理

- 语言: 所有句子的集合
      - 句子: 由S推导出来的符号串，其中所有字符都是终结符
      - 句型: 设G[S]是一个文法，若符号串x是从识别符号推导出来的，即有$S**=>x$，则称x是文法G[S]的句型
          - 下面利用语法树求
              - 短语
                  - 直接短语
                    - 句柄

空$\epsilon$： 分类讨论

## 例题

⭐⭐⭐

1. 求短语

![20220602220141](https://raw.githubusercontent.com/Logible/Image/main/note_image/20220602220141.png)

## Some concept

1. 空符号串，即不包含任何符号的符号串，用$\varepsilon$表示
2. 规则：形如$\alpha \to \beta$ or $\alpha :: = \beta$的$(\alpha,\beta)$有序对，$\to$ or $::=$读作"定义为"
3. 集合Sigma的闭包：$\Sigma^* = \Sigma^0 \cup \Sigma^1 \cup \Sigma^2 \cup \dots \cup \Sigma^n \dots$
4. 正闭包：除去$\Sigma^0$

## 文法和语言的形式定义

1. 文法G定义为四元组$(V_N,V_T,P,S)$
2. 设$\alpha \to \beta$是文法F的规则，$\gamma and \delta$是$V^*$中的任意符号,若有符号串v、w满足

   $v = \gamma \alpha \delta$,$w = \gamma \beta \delta$

   则w是v是直接推导

3. 如果存在直接推导的序列$v=w_0 \to w_1 \to w_2 \dots \to w_n = w(n>0)$，则称v推导w，或称w规约到v，记作$v \to +w$

4. 若有$v \to+ w$ 或 $v=w$，则记作$v **=> w$
5. 设G[S]是一个文法，若符号串x是从识别符号推导出来的，即有$S**=>x$，则称x是文法G[S]的句型。若x仅有终结符号组成，即$S**=>x,x\in {V_T}^*$,则称x是G[S]的句子
6. 文法G产生语言定义为集合$\{x|S*=>x, x\in {V_T}^*\}$,即文法描述的**语言是该文法一切句子的集合**,可用L(G)表示该集合
7. 若L(G1) = L(G2)，则称文法G1和G2是等价的

## 四种文法类型

1. 0型

    每个产生式$\alpha \to \beta$：$\alpha \in (V_N \cup V_T)^*$且至少含一个非终结符，$\beta \in (V_N \cup V_T)^*$

2. 1型(上下文有关文法)context-sensitive

    每个产生式$\alpha \to \beta$均满足: $|\beta|>=| \alpha|$，除$S\to \epsilon$

3. 2型(上下文无关)context-free

    每个产生式$\alpha \to \beta$均满足：$\alpha$是一个非终结符，$\beta \in (V_N \cup V_T)^*$

4. 3型(正规文法)

    每个产生式的形式都是$A \to \alpha B$或$A \to \alpha$，其中A和B都是非终结符，$a\in {V_T}^*$

## 上下文无关文法及其语法树

- 最左推导

    在推导的任何一步$\alpha \to \beta$,其中$\alpha,\beta$是句型,都是对a中的最左非终结符进行替换

- 最右推导

    常称为规范推导,由规范推导所得的句型称为**右句型**或规范句型

- 二义性

    若一个文法存在某个句子对应两颗不同的语法树，则说这个文法是二义的

- 短语：

    $\alpha\beta\delta$是文法G的一个句型.如果有$S*=>\alpha A\delta$且$A+=>\beta$,则$\beta$是句型$\alpha\beta\delta$相对于非终结符A的短语

  - 直接短语

    $A=>\beta$,则$\beta$是句型$\alpha\beta\delta$相对于规则$A \to \beta$的直接短语

    - 句柄

        一个右句型的直接短语称为该句型的句柄. 对于无二义性文法,一个右句型的唯一句柄是所有直接短语中**最左**边的那一个

⭐⭐⭐⭐

例2.8 无二义性？先结合T？ a2 and a4为什么是句柄

例子2.7 为什么 A->SS?
