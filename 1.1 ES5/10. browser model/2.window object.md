# Window object

- [Window object](#window-object)
  - [1.Overview](#1overview)
  - [2.The property of window object](#2the-property-of-window-object)
    - [2.2 window.closed, window.opener](#22-windowclosed-windowopener)
    - [2.3 window.self, window.window](#23-windowself-windowwindow)
    - [2.4 window.frames, window.length](#24-windowframes-windowlength)
    - [2.5 window.frameElement](#25-windowframeelement)
    - [2.6 window.top, window.parent](#26-windowtop-windowparent)
    - [2.7 window.status](#27-windowstatus)
    - [2.8 window.devicePixelRatio](#28-windowdevicepixelratio)
    - [2.9 location size property](#29-location-size-property)
    - [2.10 Component property](#210-component-property)
    - [2.11 Global object properties](#211-global-object-properties)
    - [2.12 window.isSecureContext](#212-windowissecurecontext)

## 1.Overview

In the browser, the <code style="color:#ea4335">window</code> object refers to the current browser window. It also is the top-level object of current page, that is the highest-level object, all of the objects is its subordinates.

If a variable is not declared, it defaults to the property of the top-level object.

```js
a = 1;
window.a // 1
```

## 2.The property of window object

The <code style="color:#ea4335">window.name</code> property is string represents the name of current browser window.

```js
window.name = 'Hello World!';
console.log(window.name)
// "Hello World!"
```

As long as the browser window is not closed, this property will not disappear.

### 2.2 window.closed, window.opener

- The <code style="color:#ea4335">window.closed</code> property return a boolean reprensents whether the window is closed. This property is generally used to check whether the new window opened using a script is closed.

```js
var popup = window.open();

if ((popup !== null) && !popup.closed) {
  // 窗口仍然打开着
}
```

- The <code style="color:#ea4335">window.opener</code> property represents the parent window of the current window. If the current window don't have parent window, <code style="color:#ea4335">null</code> is return.

If there is no need to communicate between the two windows, it is recommended to explicitly set the opener property of the child window to <code style="color:#ea4335">null</code>, so there is no way to communicate between the two windows.

Through the <code style="color:#ea4335">opener</code> properties, you can get the global properties and methods of the parent window, but only when the two windows are of the same origin.

Add the <code style="color:#ea4335">rel="noopener"</code> property to <code style="color:#ea4335">\<a></code> element can prevent newly opened window from acquiring the parent window and reduce the risk of malicious website modifying the parent window URL.

```js
<a href="https://an.evil.site" target="_blank" rel="noopener">
恶意网站
</a>
```

### 2.3 window.self, window.window

they both point to <code style="color:#ea4335">window</code> itself.

```js
window.self === window // true
window.window === window // true
```

### 2.4 window.frames, window.length

The <code style="color:#ea4335">window.frames</code> property return an array-like object, the memebers are all <code style="color:#ea4335">frame</code> windows in the page, including <code style="color:#ea4335">frame</code> element and <code style="color:#ea4335">iframe</code> element. <code style="color:#ea4335">window.frames[0]</code> represents the first frame window of page.

The <code style="color:#ea4335">windows.length</code> property returns the total number of frames contanied in the current web page.

### 2.5 window.frameElement

The Window.frameElement property returns the element (such as <code style="color:#ea4335">\<iframe></code> or <code style="color:#ea4335">\<object></code>) in which the window is embedded.

```js
const frameEl = window.frameElement;
// If we're embedded, change the containing element's URL to 'https://mozilla.org/'
if (frameEl) {
  frameEl.src = 'https://mozilla.org/';
}
```

### 2.6 window.top, window.parent

- The <code style="color:#ea4335">window.top</code> property points to the highest-level window, cheifly used to get the top-level window in the frame window.
- The <code style="color:#ea4335">window.parent</code> property points to the parent window. If the current window does't have parent window, it points to itself.

```js
if (window.parent !== window.top) {
  // 表明当前窗口嵌入不止一层
}
```

For page that don't contain frame, these two properties is equivalent to <code style="color:#ea4335">window</code> object.

### 2.7 window.status

<code style="color:#ea4335">Deprecated</code>

### 2.8 window.devicePixelRatio

The <code style="color:#ea4335">window.devicePixelRatio</code> property returns a number representing the radio beteween the size of CSS pixels and the size of physical pixel. In other words, it reprensents how many physical pixels a CSS pixels consist of. It can be used to judge the display environment of user. If this radio is large, it means that the user is using a high-definition screen.

```js
window.devicePixelRatio
1
window.devicePixelRatio
0.800000011920929
```

### 2.9 location size property

The following property return the location information and size information of <code style="color:#ea4335">window</code> object.

1. window.screenX，window.screenY

2. window.innerHeight，window.innerWidth

    The <code style="color:#ea4335">window.innerHeight</code> and <code style="color:#ea4335">window.innerWidth</code> properties return the height and width of the visible part of the web page in the current window.

3. window.outerHeight，window.outerWidth

4. window.scrollX，window.scrollY

5. window.pageXOffset，window.pageYOffset

    they are equivalent to window.scrollX，window.scrollY

### 2.10 Component property

The component property returns the component object of the browser. There are several such property as follows.

- <code style="color:#ea4335">window.locationbar</code>
- <code style="color:#ea4335">window.menubar</code>
- <code style="color:#ea4335">window.scrollbars</code>
- <code style="color:#ea4335">window.toolbar</code>
- <code style="color:#ea4335">window.statusbar</code>
- <code style="color:#ea4335">window.personalbar</code>

### 2.11 Global object properties

![20211130221841](https://raw.githubusercontent.com/Logible/Image/main/note_image/20211130221841.png)

### 2.12 window.isSecureContext

The <code style="color:#ea4335">window.isSecureContext</code> property returns a boolean value representing whether the current window is located in encrypted environment.
