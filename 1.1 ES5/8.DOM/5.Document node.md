# Document node

- [Document node](#document-node)
  - [1. Overview](#1-overview)
  - [2.Property](#2property)
    - [2.1 Shortcut properties](#21-shortcut-properties)
    - [2.2 Node collection properties](#22-node-collection-properties)

## 1. Overview

The<code style="color:#ea4335">document</code> node object represents the whole document, each web page has its own <code style="color:#ea4335">document</code> object. The <code style="color:#ea4335">window.document</code> property points to this object. As soon as the browser starts to load the HTML document, the object exists and can be used directly.

There are different ways to obtain the <code style="color:#ea4335">document</code> object.

- For normal web pages, use document or <code style="color:#ea4335">window.document</code> directly.
- The web page in the <code style="color:#ea4335">iframe</code> frame uses the <code style="color:#ea4335">contentDocument</code> property of the <code style="color:#ea4335">iframe</code> node.
- The document returned by the Ajax operation uses the <code style="color:#ea4335">responseXML</code> property of the <code style="color:#ea4335">XMLHttpRequest</code> object.
- The <code style="color:#ea4335">ownerDocument</code> property of the inner node.

The <code style="color:#ea4335">document</code> object inherits <code style="color:#ea4335">EventTarget</code> and <code style="color:#ea4335">Node</code> interface, and mixin the <code style="color:#ea4335">ParentNode</code> interface. This means that the methods of these interfaces can be called on the <code style="color:#ea4335">document</code> object.

In addition, the <code style="color:#ea4335">document</code> has many properties and methods of its own.

## 2.Property

### 2.1 Shortcut properties

The following properties are shortcuts to a node inside the document.

1. document.defaultView

    The <code style="color:#ea4335">document.defaultView</code> property return the <code style="color:#ea4335">window</code> object to which the <code style="color:#ea4335">document</code> object belongs. If the current document does not belong to the <code style="color:#ea4335">window</code> object, this property returns <code style="color:#ea4335">null</code>.

    ```js
    document.defaultView === window // true
    ```

2. document.doctype

    For HTML document, the <code style="color:#ea4335">document</code> object generally has two child nodes:

    - The first child node is <code style="color:#ea4335">document.doctype</code> which points to <code style="color:#ea4335">\<DOCTYPE></code> node, that is Document Type Declaration(Abbreviated DTD) node. The document type node of HTML generally written as <code style="color:#ea4335">\<!DOTYPE html></code>. If the web page does not declare a DTD, this property returns <code style="color:#ea4335">null</code>.

    ```js
    var doctype = document.doctype;
    doctype // "<!DOCTYPE html>"
    doctype.name // "html"
    ```

3. document.documentElement

    The <code style="color:#ea4335">document.documentElement</code> property return the <code style="color:#ea4335">Element</code> that is the root element of the <code style="color:#ea4335">document</code>(for example, the <code style="color:#ea4335">\<html></code> element for HTML documents).

4. document.body, document.head

    The <code style="color:#ea4335">document.body</code> property points to <code style="color:#ea4335">\<body></code> nodes, <code style="color:#ea4335">document.head</code> property points to <code style="color:#ea4335">\<head></code> node.

    These two properties always exist. If the <code style="color:#ea4335">\<head></code> or <code style="color:#ea4335">\<body></code> is omitted from the source code of the webpage, the browser will automatically create it. In addition, these two properties is writable, if rewriting their values, it is equivalent to removing all child nodes.

5. document.srollingElement

    The <code style="color:#ea4335">document.scrolling</code> property returns the scrolling element of the document. In other words, when the document scrolls as a whole, which element is scrolling.

    In standard mode, this property returns the root element of the document <code style="color:#ea4335">document.documentElement</code> (ie <code style="color:#ea4335">\<html></code>). In qurik mode, the <code style="color:#ea4335">\<body></code> is returned. If the element does not exist, <code style="color:#ea4335">null</code> is returned.

    ```js
    // 页面滚动到浏览器顶部
    document.scrollingElement.scrollTop = 0;
    ```

6. document.activeElement

    The <code style="color:#ea4335">document.activeElement</code> property returns the DOM element that has the current focus.

    Generally, this property returns form elements such as <code style="color:#ea4335">\<input></code>, <code style="color:#ea4335">\<textarea></code> and <code style="color:#ea4335">select</code>. If there is currently no focus element, return the <code style="color:#ea4335">\<body></code> element or <code style="color:#ea4335">null</code>.

7. document.fullscreenElement

The <code style="color:#ea4335">document.fullscreenElement</code> property returns the DOM element which currently displayed in fullscreen state. If it is  not in full screen state, <code style="color:#ea4335">null</code> is returned.

```js
if (document.fullscreenElement.nodeName == 'VIDEO') {
  console.log('全屏播放视频');
}
```

In the above code, we can know whether the <code style="color:#ea4335">\<video></code> element is in the full screen state through <code style="color:#ea4335">document.fullscreenElement</code> property.

### 2.2 Node collection properties

The following properties return an instance of <code style="color:#ea4335">HTMLCollection</code> which indicates a collection of specified element within the document. These collections are dymatic, Any changes to the original node will be reflected in the collection immediately.

1. document.links

    The <code style="color:#ea4335">document.links</code> property returns all the <code style="color:#ea4335">\<a></code> and <code style="color:#ea4335">\<area></code> nodes that have the <code style="color:#ea4335">href</code> property set in the current document.

    ```js
    let link = document.links;
    for(let i = 0 ; i < link.length ; i++){
        console.log(link[i]);
    }
    ```

2. document.forms

    <code style="color:#ea4335">document.forms</code> property returns all the <code style="color:#ea4335">form</code> node

    ```js
    var selectForm = document.forms[0];
    ```

    The above code gets the first form of the document.

    In addition to using the position number, the <code style="color:#ea4335">id</code> and <code style="color:#ea4335">name</code> property cna also be used to refer to the <code style="color:#ea4335">form</code>

    ```js
    /* HTML 代码如下
    <form name="foo" id="bar"></form>
    */
    document.forms[0] === document.forms.foo // true
    document.forms.bar === document.forms.foo // true
    ```

3. document.images

    The <code style="color:#ea4335">document.images</code> read-only property of the <code style="color:#ea4335">Document</code> interface returns a collection of the <code style="color:#ea4335">images</code> in the current HTML document.

    **Syntax:**

    ```js
    var imageCollection = document.images;
    ```

    **Value:**

    An <code style="color:#ea4335">HTMLCollection</code> providing a live list of all of the images contanined in the current document. Each entry in the colleciton is an <code style="color:#ea4335">HTMLImageElement</code> representing a single image element.

    **Usage notes:**

    You can use either JavaScirpt array notation or the <code style="color:#ea4335">item()</code> method on the returned collection to access the items in the collection. The following are equivalent.

    ```js
    firstImage = imageCollection.item(0);

    firstImage = imageCollection[0];
    ```

4. document.embeds, document.plugins

    The <code style="color:#ea4335">document.embeds</code> property and <code style="color:#ea4335">document.plugins</code> property both return all <code style="color:#ea4335">\<embed></code> nodes.
